{"file_contents":{"README.md":{"content":"# Mjfinal\r\n<<<<<<< HEAD\r\n# Mrugayafinalworking\r\n=======\r\n# Mrugayafinal\r\n>>>>>>> 2af4f1f (first commit)\r\n# Mrugayafinal\r\n","size_bytes":121},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Mrugaya Jewelry E-commerce Platform\n\n## Project Overview\nA full-stack jewelry e-commerce platform built for traditional Maharashtrian jewelry. The application features a React frontend with Express.js backend, PostgreSQL database, and payment integration.\n\n## Architecture\n- **Frontend**: React 18 with TypeScript, Wouter for routing, TailwindCSS + Shadcn UI\n- **Backend**: Express.js with TypeScript, Drizzle ORM, PostgreSQL (Neon)\n- **Database**: PostgreSQL with comprehensive schema for products, categories, orders, users, favorites, and cart\n- **Payment**: Razorpay integration (API keys needed)\n- **State Management**: React Context for cart and favorites (client-side), with server persistence\n\n## Recent Changes (Auth0 Integration + WhatsApp Chat - August 19, 2025)\n- ✅ **Auth0 Integration**: Successfully integrated Auth0 authentication with Google, Facebook, and contact-based login\n- ✅ **Product Card Redesign**: Implemented modern rectangular product cards with dual buttons (Buy Now/Add to Cart)\n- ✅ **Authentication Flow**: Added authentication-required flow for cart and purchase actions\n- ✅ **Categories Page**: Created comprehensive categories page with circular product images for jewelry collections\n- ✅ **WhatsApp Integration**: Replaced generic chat with WhatsApp functionality and welcome message\n- ✅ **Navigation Enhancement**: \"View All Collections\" button now navigates to categories page with clickable category items\n- ✅ **Environment Setup**: Auth0 secrets properly configured (VITE_AUTH0_DOMAIN, VITE_AUTH0_CLIENT_ID, VITE_AUTH0_AUDIENCE)\n\n## Database Schema\n- **users**: Customer information and authentication\n- **categories**: Product categories with hierarchical structure\n- **products**: Complete product catalog with specs, images, pricing\n- **orders**: Order management with status tracking\n- **order_items**: Individual items within orders\n- **user_favorites**: User favorite products (supports guest sessions)\n- **cart_items**: Persistent shopping cart (supports guest sessions)\n- **product_images**: Multiple images per product\n\n## API Endpoints\n- `/api/products` - Product catalog\n- `/api/categories` - Category management\n- `/api/cart` - Shopping cart operations\n- `/api/favorites` - User favorites\n- `/api/orders` - Order management\n- `/api/create-order` - Payment order creation\n- `/api/verify-payment` - Payment verification\n- `/api/search` - Product search\n\n## Environment Variables Needed\n- `DATABASE_URL` - ✅ Configured (Neon PostgreSQL)\n- `RAZORPAY_KEY_ID` - ✅ Configured\n- `RAZORPAY_SECRET_KEY` - ✅ Configured  \n- `VITE_RAZORPAY_KEY_ID` - ✅ Configured\n\n## Technology Stack\n- Node.js 20\n- React 18 + TypeScript\n- Express.js\n- Drizzle ORM\n- PostgreSQL (Neon)\n- TailwindCSS + Shadcn UI\n- Wouter (routing)\n- Razorpay (payments)\n\n## User Preferences\n- Professional, direct communication\n- Focus on security and data integrity\n- Database-first approach over client-side state\n- Comprehensive error handling\n\n## Next Steps for Production\n1. Configure payment API keys\n2. Implement user authentication\n3. Add order tracking and management\n4. Set up email notifications\n5. Implement inventory management\n6. Add product reviews system","size_bytes":3197},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2787},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n});\n","size_bytes":894},"server/db.ts":{"content":"// import { Pool, neonConfig } from '@neondatabase/serverless';\r\n// import { drizzle } from 'drizzle-orm/neon-serverless';\r\n// import ws from \"ws\";\r\n// import * as schema from \"@shared/schema\";\r\n\r\n// // neonConfig.webSocketConstructor = ws;\r\n\r\n// if (!process.env.DATABASE_URL) {\r\n//   throw new Error(\r\n//     \"DATABASE_URL must be set. Did you forget to provision a database?\",\r\n//   );\r\n// }\r\n\r\n// export const pool = new Pool({ connectionString: process.env.DATABASE_URL });\r\n// export const db = drizzle({ client: pool, schema });\r\n","size_bytes":537},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  app.listen(5000, \"0.0.0.0\", () => {\n  console.log(\"Server running at http://0.0.0.0:5000\");\n});\n\n})();\n","size_bytes":1920},"server/memory-storage.ts":{"content":"// Simple in-memory storage for orders - no database required\ninterface SimpleOrder {\n  id: string;\n  orderId: string;\n  customerName: string;\n  customerEmail: string;\n  customerPhone: string;\n  customerAddress: string;\n  totalAmount: string;\n  paymentMethod: string;\n  paymentStatus: string;\n  orderStatus: string;\n  createdAt: Date;\n  items: SimpleOrderItem[];\n}\n\ninterface SimpleOrderItem {\n  productId: number;\n  productName: string;\n  productImage: string;\n  quantity: number;\n  unitPrice: string;\n  totalPrice: string;\n}\n\nclass MemoryOrderStorage {\n  private orders: Map<string, SimpleOrder> = new Map();\n  private orderCounter = 1;\n\n  async createOrder(orderData: any): Promise<SimpleOrder> {\n    const orderId = `ORD-${Date.now()}-${this.orderCounter}`;\n    this.orderCounter++;\n\n    const order: SimpleOrder = {\n      id: orderId,\n      orderId: orderData.orderId || orderId,\n      customerName: orderData.customerName,\n      customerEmail: orderData.customerEmail,\n      customerPhone: orderData.customerPhone,\n      customerAddress: orderData.customerAddress,\n      totalAmount: orderData.totalAmount,\n      paymentMethod: orderData.paymentMethod,\n      paymentStatus: orderData.paymentStatus,\n      orderStatus: orderData.orderStatus,\n      createdAt: new Date(),\n      items: []\n    };\n\n    this.orders.set(orderId, order);\n    return order;\n  }\n\n  async addOrderItems(orderId: string, items: SimpleOrderItem[]): Promise<void> {\n    const order = this.orders.get(orderId);\n    if (order) {\n      order.items = items;\n    }\n  }\n\n  async getOrder(orderId: string): Promise<SimpleOrder | undefined> {\n    return this.orders.get(orderId);\n  }\n\n  async getAllOrders(): Promise<SimpleOrder[]> {\n    return Array.from(this.orders.values());\n  }\n}\n\nexport const memoryOrderStorage = new MemoryOrderStorage();\nexport type { SimpleOrder, SimpleOrderItem };","size_bytes":1859},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { \n  insertProductSchema, \n  insertCategorySchema, \n  insertOrderSchema, \n  insertOrderItemSchema,\n  insertUserFavoriteSchema,\n  insertCartItemSchema\n} from \"@shared/schema\";\nimport { z } from \"zod\";\nimport Razorpay from \"razorpay\";\nimport crypto from \"crypto\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  \n  // Initialize Razorpay instance\n  const razorpay = new Razorpay({\n    key_id: process.env.RAZORPAY_KEY_ID,\n    key_secret: process.env.RAZORPAY_KEY_SECRET,\n  });\n  \n  // Products API\n  app.get(\"/api/products\", async (req, res) => {\n    try {\n      const { category, subcategory } = req.query;\n      const products = await storage.getProducts(\n        category as string, \n        subcategory as string\n      );\n      res.json({ success: true, products });\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch products\" });\n    }\n  });\n\n  app.get(\"/api/products/featured\", async (req, res) => {\n    try {\n      const products = await storage.getFeaturedProducts();\n      res.json({ success: true, products });\n    } catch (error) {\n      console.error(\"Error fetching featured products:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch featured products\" });\n    }\n  });\n\n  app.get(\"/api/products/:id\", async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const product = await storage.getProduct(id);\n      if (!product) {\n        return res.status(404).json({ success: false, message: \"Product not found\" });\n      }\n      res.json({ success: true, product });\n    } catch (error) {\n      console.error(\"Error fetching product:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch product\" });\n    }\n  });\n\n  // Categories API\n  app.get(\"/api/categories\", async (req, res) => {\n    try {\n      const categories = await storage.getCategories();\n      res.json({ success: true, categories });\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch categories\" });\n    }\n  });\n\n  app.get(\"/api/categories/:id\", async (req, res) => {\n    try {\n      const category = await storage.getCategory(req.params.id);\n      if (!category) {\n        return res.status(404).json({ success: false, message: \"Category not found\" });\n      }\n      res.json({ success: true, category });\n    } catch (error) {\n      console.error(\"Error fetching category:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch category\" });\n    }\n  });\n\n  // Favorites API\n  app.get(\"/api/favorites\", async (req, res) => {\n    try {\n      const { userId, sessionId } = req.query;\n      const favorites = await storage.getUserFavorites(\n        userId ? parseInt(userId as string) : null,\n        sessionId as string || null\n      );\n      res.json({ success: true, favorites });\n    } catch (error) {\n      console.error(\"Error fetching favorites:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch favorites\" });\n    }\n  });\n\n  app.post(\"/api/favorites\", async (req, res) => {\n    try {\n      const favoriteData = insertUserFavoriteSchema.parse(req.body);\n      const favorite = await storage.addFavorite(favoriteData);\n      res.json({ success: true, favorite });\n    } catch (error) {\n      console.error(\"Error adding favorite:\", error);\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ success: false, message: \"Invalid data\", errors: error.errors });\n      }\n      res.status(500).json({ success: false, message: \"Failed to add favorite\" });\n    }\n  });\n\n  app.delete(\"/api/favorites\", async (req, res) => {\n    try {\n      const { userId, sessionId, productId } = req.query;\n      await storage.removeFavorite(\n        userId ? parseInt(userId as string) : null,\n        sessionId as string || null,\n        parseInt(productId as string)\n      );\n      res.json({ success: true, message: \"Favorite removed\" });\n    } catch (error) {\n      console.error(\"Error removing favorite:\", error);\n      res.status(500).json({ success: false, message: \"Failed to remove favorite\" });\n    }\n  });\n\n  // Cart API\n  app.get(\"/api/cart\", async (req, res) => {\n    try {\n      const { userId, sessionId } = req.query;\n      const cartItems = await storage.getUserCart(\n        userId ? parseInt(userId as string) : null,\n        sessionId as string || null\n      );\n      res.json({ success: true, cartItems });\n    } catch (error) {\n      console.error(\"Error fetching cart:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch cart\" });\n    }\n  });\n\n  app.post(\"/api/cart\", async (req, res) => {\n    try {\n      const cartItemData = insertCartItemSchema.parse(req.body);\n      const cartItem = await storage.addToCart(cartItemData);\n      res.json({ success: true, cartItem });\n    } catch (error) {\n      console.error(\"Error adding to cart:\", error);\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ success: false, message: \"Invalid data\", errors: error.errors });\n      }\n      res.status(500).json({ success: false, message: \"Failed to add to cart\" });\n    }\n  });\n\n  app.put(\"/api/cart/:id\", async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const { quantity } = req.body;\n      const cartItem = await storage.updateCartItem(id, quantity);\n      if (!cartItem) {\n        return res.status(404).json({ success: false, message: \"Cart item not found\" });\n      }\n      res.json({ success: true, cartItem });\n    } catch (error) {\n      console.error(\"Error updating cart item:\", error);\n      res.status(500).json({ success: false, message: \"Failed to update cart item\" });\n    }\n  });\n\n  app.delete(\"/api/cart/:id\", async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      await storage.removeFromCart(id);\n      res.json({ success: true, message: \"Item removed from cart\" });\n    } catch (error) {\n      console.error(\"Error removing from cart:\", error);\n      res.status(500).json({ success: false, message: \"Failed to remove from cart\" });\n    }\n  });\n\n  app.delete(\"/api/cart\", async (req, res) => {\n    try {\n      const { userId, sessionId } = req.query;\n      await storage.clearUserCart(\n        userId ? parseInt(userId as string) : null,\n        sessionId as string || null\n      );\n      res.json({ success: true, message: \"Cart cleared\" });\n    } catch (error) {\n      console.error(\"Error clearing cart:\", error);\n      res.status(500).json({ success: false, message: \"Failed to clear cart\" });\n    }\n  });\n\n  // Orders API\n  app.post(\"/api/orders\", async (req, res) => {\n    try {\n      const { order, items } = req.body;\n      \n      // Validate order data\n      const orderData = insertOrderSchema.parse(order);\n      const orderItemsData = items.map((item: unknown) => insertOrderItemSchema.parse(item));\n      \n      // Create order and order items\n      const createdOrder = await storage.createOrder(orderData);\n      const createdOrderItems = await storage.createOrderItems(\n        orderItemsData.map((item: any) => ({ ...item, orderId: createdOrder.id }))\n      );\n      \n      res.json({ \n        success: true, \n        order: createdOrder,\n        items: createdOrderItems \n      });\n    } catch (error) {\n      console.error(\"Error creating order:\", error);\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ success: false, message: \"Invalid data\", errors: error.errors });\n      }\n      res.status(500).json({ success: false, message: \"Failed to create order\" });\n    }\n  });\n\n  app.get(\"/api/orders/:orderId\", async (req, res) => {\n    try {\n      const order = await storage.getOrder(req.params.orderId);\n      if (!order) {\n        return res.status(404).json({ success: false, message: \"Order not found\" });\n      }\n      res.json({ success: true, order });\n    } catch (error) {\n      console.error(\"Error fetching order:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch order\" });\n    }\n  });\n\n  // Payment Integration Routes\n  app.post(\"/api/create-order\", async (req, res) => {\n    try {\n      const { amount, currency, receipt, customerInfo, items } = req.body;\n      \n      // Create Razorpay order\n      const options = {\n        amount: Math.round(amount * 100), // Convert to paise and round\n        currency: currency || 'INR',\n        receipt: receipt || `receipt_${Date.now()}`,\n        payment_capture: 1, // Auto-capture payment\n      };\n\n      const order = await razorpay.orders.create(options);\n      \n      res.json({ success: true, order });\n    } catch (error) {\n      console.error(\"Error creating payment order:\", error);\n      res.status(500).json({ success: false, message: \"Failed to create payment order\" });\n    }\n  });\n\n  app.post(\"/api/verify-payment\", async (req, res) => {\n    try {\n      const { razorpay_order_id, razorpay_payment_id, razorpay_signature } = req.body;\n      \n      // Verify payment signature\n      const body = razorpay_order_id + \"|\" + razorpay_payment_id;\n      const expectedSignature = crypto\n        .createHmac('sha256', process.env.RAZORPAY_SECRET_KEY || '')\n        .update(body.toString())\n        .digest('hex');\n\n      const isAuthentic = expectedSignature === razorpay_signature;\n\n      if (isAuthentic) {\n        // Payment is verified, you can save to database here\n        res.json({ \n          success: true, \n          message: \"Payment verified successfully\",\n          verified: true \n        });\n      } else {\n        res.status(400).json({ \n          success: false, \n          message: \"Invalid signature\",\n          verified: false \n        });\n      }\n    } catch (error) {\n      console.error(\"Error verifying payment:\", error);\n      res.status(500).json({ success: false, message: \"Payment verification failed\" });\n    }\n  });\n\n  // Payment status check endpoint\n  app.get(\"/api/payment-status/:paymentId\", async (req, res) => {\n    try {\n      const { paymentId } = req.params;\n      \n      // Fetch payment details from Razorpay\n      const payment = await razorpay.payments.fetch(paymentId);\n      \n      res.json({ \n        success: true, \n        payment: {\n          id: payment.id,\n          status: payment.status,\n          amount: payment.amount,\n          currency: payment.currency,\n          method: payment.method,\n          captured: payment.captured,\n        }\n      });\n    } catch (error) {\n      console.error(\"Error fetching payment status:\", error);\n      res.status(500).json({ success: false, message: \"Failed to fetch payment status\" });\n    }\n  });\n\n  // Cash on Delivery (COD) order endpoint - Ultra simple, no storage required\n  app.post(\"/api/cod-order\", async (req, res) => {\n    try {\n      const { amount, customerInfo, items } = req.body;\n      \n      if (!customerInfo || !customerInfo.name || !customerInfo.email || !customerInfo.phone) {\n        return res.status(400).json({ success: false, message: \"Customer information is required\" });\n      }\n      \n      // Generate unique order ID\n      const orderId = `COD-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;\n      \n      // Calculate COD handling fee\n      const handlingFee = Math.max(50, Math.round(amount * 0.02));\n      const totalAmount = amount + handlingFee;\n      \n      // Calculate estimated delivery date\n      const estimatedDeliveryDate = new Date();\n      estimatedDeliveryDate.setDate(estimatedDeliveryDate.getDate() + 8);\n      \n      console.log(`COD Order Placed - ID: ${orderId}, Customer: ${customerInfo.name}, Total: ₹${totalAmount}`);\n      \n      // Just log the order details (no storage needed for demo)\n      console.log('COD Order Details:', {\n        orderId,\n        customer: customerInfo.name,\n        email: customerInfo.email,\n        phone: customerInfo.phone,\n        address: customerInfo.address,\n        items: items?.length || 0,\n        totalAmount: totalAmount\n      });\n      \n      // Prepare response\n      const codOrder = {\n        orderId,\n        amount,\n        handlingFee,\n        totalAmount,\n        estimatedDelivery: estimatedDeliveryDate.toLocaleDateString('en-IN', {\n          weekday: 'long',\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        }),\n        status: 'confirmed',\n      };\n      \n      res.json({ success: true, order: codOrder });\n    } catch (error) {\n      console.error(\"Error processing COD order:\", error);\n      res.status(500).json({ success: false, message: \"Failed to process COD order\" });\n    }\n  });\n\n  // Search API\n  app.get(\"/api/search\", async (req, res) => {\n    try {\n      const { q } = req.query;\n      if (!q || typeof q !== 'string') {\n        return res.status(400).json({ success: false, message: \"Search query is required\" });\n      }\n      \n      const products = await storage.searchProducts(q);\n      res.json({ success: true, products });\n    } catch (error) {\n      console.error(\"Error searching products:\", error);\n      res.status(500).json({ success: false, message: \"Search failed\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":13406},"server/seed.ts":{"content":"// import { db } from \"./db\";\r\nimport { categories, products } from \"@shared/schema\";\r\n\r\nconst categoryData = [\r\n  {\r\n    id: 'all-jewellery',\r\n    name: 'All Jewellery',\r\n    description: 'Complete collection of traditional Maharashtrian jewelry',\r\n    image: 'https://images.pexels.com/photos/1721558/pexels-photo-1721558.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n    parentCategoryId: null,\r\n    isActive: true,\r\n    sortOrder: 0,\r\n  },\r\n  {\r\n    id: 'mangalsutra',\r\n    name: 'Mangalsutra',\r\n    description: 'Sacred marriage jewelry with traditional significance',\r\n    image: 'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n    parentCategoryId: null,\r\n    isActive: true,\r\n    sortOrder: 1,\r\n  },\r\n  {\r\n    id: 'nath-category',\r\n    name: 'Nath',\r\n    description: 'Traditional Maharashtrian nose jewelry',\r\n    image: '/nath.jfif',\r\n    parentCategoryId: null,\r\n    isActive: true,\r\n    sortOrder: 2,\r\n  },\r\n  {\r\n    id: 'oxide',\r\n    name: 'Oxide',\r\n    description: 'Oxidized silver jewelry with antique finish',\r\n    image: 'https://images.pexels.com/photos/2735981/pexels-photo-2735981.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n    parentCategoryId: null,\r\n    isActive: true,\r\n    sortOrder: 3,\r\n  },\r\n  {\r\n    id: 'bridal',\r\n    name: 'Bridal',\r\n    description: 'Complete bridal jewelry collections',\r\n    image: 'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n    parentCategoryId: null,\r\n    isActive: true,\r\n    sortOrder: 4,\r\n  },\r\n];\r\n\r\nconst productData = [\r\n  {\r\n    name: 'Royal Thushi Set',\r\n    description: 'Exquisite traditional Maharashtrian Thushi set crafted with 22K gold and adorned with precious pearls. This masterpiece represents the rich cultural heritage of Maharashtra and is perfect for weddings and special occasions.',\r\n    price: '1',\r\n    originalPrice: '5',\r\n    categoryId: 'all-jewellery',\r\n    subcategoryId: 'thushi',\r\n    material: '22K Gold',\r\n    weight: '45 grams',\r\n    dimensions: '18 inches length',\r\n    purity: '916 Hallmarked',\r\n    inStock: true,\r\n    featured: true,\r\n    rating: '4.8',\r\n    reviewsCount: 124,\r\n    tags: ['traditional', 'wedding', 'gold', 'pearls', 'maharashtrian'],\r\n    images: [\r\n      '/thushi.png',\r\n      'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n      'https://images.pexels.com/photos/1721558/pexels-photo-1721558.jpeg?auto=compress&cs=tinysrgb&w=800'\r\n    ],\r\n    specifications: {\r\n      material: '22K Gold',\r\n      weight: '45 grams',\r\n      dimensions: '18 inches length',\r\n      purity: '916 Hallmarked',\r\n      gemstones: ['Natural Pearls', 'Ruby']\r\n    }\r\n  },\r\n  {\r\n    name: 'Maharani Necklace',\r\n    description: 'A regal necklace fit for a queen, featuring intricate gold work and precious gemstones. This piece embodies the grandeur of Maratha royalty.',\r\n    price: '89999.00',\r\n    originalPrice: '99999.00',\r\n    categoryId: 'all-jewellery',\r\n    subcategoryId: 'thushi',\r\n    material: '22K Gold',\r\n    weight: '65 grams',\r\n    dimensions: '20 inches length',\r\n    purity: '916 Hallmarked',\r\n    inStock: true,\r\n    featured: true,\r\n    rating: '4.9',\r\n    reviewsCount: 89,\r\n    tags: ['premium', 'royal', 'gold', 'gemstones', 'necklace'],\r\n    images: [\r\n      'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=400',\r\n      'https://images.pexels.com/photos/1721558/pexels-photo-1721558.jpeg?auto=compress&cs=tinysrgb&w=800',\r\n      'https://images.pexels.com/photos/2735981/pexels-photo-2735981.jpeg?auto=compress&cs=tinysrgb&w=800'\r\n    ],\r\n    specifications: {\r\n      material: '22K Gold',\r\n      weight: '65 grams',\r\n      dimensions: '20 inches length',\r\n      purity: '916 Hallmarked',\r\n      gemstones: ['Emerald', 'Ruby', 'Diamond']\r\n    }\r\n  },\r\n  {\r\n    name: 'Traditional Nath',\r\n    description: 'Authentic Maharashtrian Nath with delicate gold work and pearl drops.',\r\n    price: '15999.00',\r\n    originalPrice: '18999.00',\r\n    categoryId: 'nath-category',\r\n    subcategoryId: 'gold-nath',\r\n    material: '22K Gold',\r\n    weight: '8 grams',\r\n    dimensions: '3 inches length',\r\n    purity: '916 Hallmarked',\r\n    inStock: true,\r\n    featured: true,\r\n    rating: '4.6',\r\n    reviewsCount: 156,\r\n    tags: ['nath', 'traditional', 'gold', 'pearls', 'bridal'],\r\n    images: [\r\n      '/nath.png',\r\n      'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=400'\r\n    ],\r\n    specifications: {\r\n      material: '22K Gold',\r\n      weight: '8 grams',\r\n      dimensions: '3 inches length',\r\n      purity: '916 Hallmarked',\r\n      gemstones: ['Natural Pearls']\r\n    }\r\n  },\r\n  {\r\n    name: 'Diamond Mangalsutra',\r\n    description: 'Elegant diamond mangalsutra combining traditional significance with modern aesthetics.',\r\n    price: '125999.00',\r\n    originalPrice: '145999.00',\r\n    categoryId: 'mangalsutra',\r\n    subcategoryId: 'diamond-mangalsutra',\r\n    material: '18K Gold',\r\n    weight: '25 grams',\r\n    dimensions: '16 inches length',\r\n    purity: '750 Hallmarked',\r\n    inStock: true,\r\n    featured: true,\r\n    rating: '4.9',\r\n    reviewsCount: 203,\r\n    tags: ['mangalsutra', 'diamond', 'modern', 'bridal', 'gold'],\r\n    images: [\r\n      'https://images.pexels.com/photos/1454166/pexels-photo-1454166.jpeg?auto=compress&cs=tinysrgb&w=400',\r\n      'https://images.pexels.com/photos/2735981/pexels-photo-2735981.jpeg?auto=compress&cs=tinysrgb&w=800'\r\n    ],\r\n    specifications: {\r\n      material: '18K Gold',\r\n      weight: '25 grams',\r\n      dimensions: '16 inches length',\r\n      purity: '750 Hallmarked',\r\n      gemstones: ['Diamond']\r\n    }\r\n  }\r\n];\r\n\r\nasync function seed() {\r\n  try {\r\n    console.log('Seeding categories...');\r\n    \r\n    // Insert categories\r\n    for (const category of categoryData) {\r\n      try {\r\n        await db.insert(categories).values([category]).onConflictDoNothing();\r\n        console.log(`✓ Category \"${category.name}\" seeded`);\r\n      } catch (error) {\r\n        console.error(`Error seeding category \"${category.name}\":`, error);\r\n      }\r\n    }\r\n\r\n    console.log('Seeding products...');\r\n    \r\n    // Insert products\r\n    for (const product of productData) {\r\n      try {\r\n        await db.insert(products).values([product]);\r\n        console.log(`✓ Product \"${product.name}\" seeded`);\r\n      } catch (error) {\r\n        console.error(`Error seeding product \"${product.name}\":`, error);\r\n      }\r\n    }\r\n\r\n    console.log('✅ Database seeded successfully!');\r\n  } catch (error) {\r\n    console.error('❌ Error seeding database:', error);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\n// Run seed if this file is executed directly\r\nif (import.meta.url === `file://${process.argv[1]}`) {\r\n  seed().then(() => process.exit(0));\r\n}\r\n\r\nexport { seed };","size_bytes":6850},"server/storage.ts":{"content":"// import { db } from \"./db\";\nimport { \n  users, \n  products, \n  categories, \n  orders, \n  orderItems, \n  userFavorites, \n  cartItems,\n  type User, \n  type InsertUser,\n  type Product,\n  type InsertProduct,\n  type Category,\n  type InsertCategory,\n  type Order,\n  type InsertOrder,\n  type OrderItem,\n  type InsertOrderItem,\n  type UserFavorite,\n  type InsertUserFavorite,\n  type CartItem,\n  type InsertCartItem\n} from \"@shared/schema\";\nimport { eq, and, desc, inArray } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: number): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Product operations\n  getProducts(categoryId?: string, subcategoryId?: string): Promise<Product[]>;\n  getFeaturedProducts(): Promise<Product[]>;\n  getProduct(id: number): Promise<Product | undefined>;\n  createProduct(product: InsertProduct): Promise<Product>;\n  searchProducts(query: string): Promise<Product[]>;\n  \n  // Category operations\n  getCategories(): Promise<Category[]>;\n  getCategory(id: string): Promise<Category | undefined>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  \n  // Order operations\n  createOrder(order: InsertOrder): Promise<Order>;\n  createOrderItems(items: InsertOrderItem[]): Promise<OrderItem[]>;\n  getOrder(orderId: string): Promise<Order | undefined>;\n  getUserOrders(userId: number): Promise<Order[]>;\n  \n  // Favorites operations\n  addFavorite(favorite: InsertUserFavorite): Promise<UserFavorite>;\n  removeFavorite(userId: number | null, sessionId: string | null, productId: number): Promise<void>;\n  getUserFavorites(userId: number | null, sessionId: string | null): Promise<UserFavorite[]>;\n  \n  // Cart operations\n  addToCart(cartItem: InsertCartItem): Promise<CartItem>;\n  updateCartItem(id: number, quantity: number): Promise<CartItem | undefined>;\n  removeFromCart(id: number): Promise<void>;\n  getUserCart(userId: number | null, sessionId: string | null): Promise<CartItem[]>;\n  clearUserCart(userId: number | null, sessionId: string | null): Promise<void>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  \n  // User operations\n  async getUser(id: number): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.email, email)).limit(1);\n    return result[0];\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const result = await db.insert(users).values(user).returning();\n    return result[0];\n  }\n\n  // Product operations\n  async getProducts(categoryId?: string, subcategoryId?: string): Promise<Product[]> {\n    if (subcategoryId) {\n      return await db.select().from(products).where(and(\n        eq(products.categoryId, categoryId!),\n        eq(products.subcategoryId, subcategoryId)\n      )).orderBy(desc(products.featured), desc(products.createdAt));\n    } else if (categoryId) {\n      return await db.select().from(products).where(eq(products.categoryId, categoryId))\n        .orderBy(desc(products.featured), desc(products.createdAt));\n    }\n    \n    return await db.select().from(products).orderBy(desc(products.featured), desc(products.createdAt));\n  }\n\n  async getFeaturedProducts(): Promise<Product[]> {\n    return await db.select().from(products)\n      .where(eq(products.featured, true))\n      .orderBy(desc(products.createdAt));\n  }\n\n  async getProduct(id: number): Promise<Product | undefined> {\n    const result = await db.select().from(products).where(eq(products.id, id)).limit(1);\n    return result[0];\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const result = await db.insert(products).values([product]).returning();\n    return result[0];\n  }\n\n  async searchProducts(query: string): Promise<Product[]> {\n    // Simple text search - in a real app you'd use full-text search\n    const searchTerm = `%${query.toLowerCase()}%`;\n    return await db.select().from(products)\n      .where(\n        // Note: This is a simplified search, you might want to use proper full-text search\n        eq(products.name, query) // Simplified for now\n      );\n  }\n\n  // Category operations\n  async getCategories(): Promise<Category[]> {\n    return await db.select().from(categories)\n      .where(eq(categories.isActive, true))\n      .orderBy(categories.sortOrder);\n  }\n\n  async getCategory(id: string): Promise<Category | undefined> {\n    const result = await db.select().from(categories).where(eq(categories.id, id)).limit(1);\n    return result[0];\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const result = await db.insert(categories).values(category).returning();\n    return result[0];\n  }\n\n  // Order operations\n  async createOrder(order: InsertOrder): Promise<Order> {\n    const result = await db.insert(orders).values(order).returning();\n    return result[0];\n  }\n\n  async createOrderItems(items: InsertOrderItem[]): Promise<OrderItem[]> {\n    const result = await db.insert(orderItems).values(items).returning();\n    return result;\n  }\n\n  async getOrder(orderId: string): Promise<Order | undefined> {\n    const result = await db.select().from(orders).where(eq(orders.orderId, orderId)).limit(1);\n    return result[0];\n  }\n\n  async getUserOrders(userId: number): Promise<Order[]> {\n    return await db.select().from(orders)\n      .where(eq(orders.userId, userId))\n      .orderBy(desc(orders.createdAt));\n  }\n\n  // Favorites operations\n  async addFavorite(favorite: InsertUserFavorite): Promise<UserFavorite> {\n    const result = await db.insert(userFavorites).values(favorite).returning();\n    return result[0];\n  }\n\n  async removeFavorite(userId: number | null, sessionId: string | null, productId: number): Promise<void> {\n    let whereCondition;\n    \n    if (userId) {\n      whereCondition = and(\n        eq(userFavorites.userId, userId),\n        eq(userFavorites.productId, productId)\n      );\n    } else if (sessionId) {\n      whereCondition = and(\n        eq(userFavorites.sessionId, sessionId),\n        eq(userFavorites.productId, productId)\n      );\n    } else {\n      throw new Error(\"Either userId or sessionId must be provided\");\n    }\n    \n    await db.delete(userFavorites).where(whereCondition);\n  }\n\n  async getUserFavorites(userId: number | null, sessionId: string | null): Promise<UserFavorite[]> {\n    let whereCondition;\n    \n    if (userId) {\n      whereCondition = eq(userFavorites.userId, userId);\n    } else if (sessionId) {\n      whereCondition = eq(userFavorites.sessionId, sessionId);\n    } else {\n      return [];\n    }\n    \n    return await db.select().from(userFavorites)\n      .where(whereCondition)\n      .orderBy(desc(userFavorites.createdAt));\n  }\n\n  // Cart operations\n  async addToCart(cartItem: InsertCartItem): Promise<CartItem> {\n    const result = await db.insert(cartItems).values(cartItem).returning();\n    return result[0];\n  }\n\n  async updateCartItem(id: number, quantity: number): Promise<CartItem | undefined> {\n    const result = await db.update(cartItems)\n      .set({ quantity })\n      .where(eq(cartItems.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async removeFromCart(id: number): Promise<void> {\n    await db.delete(cartItems).where(eq(cartItems.id, id));\n  }\n\n  async getUserCart(userId: number | null, sessionId: string | null): Promise<CartItem[]> {\n    let whereCondition;\n    \n    if (userId) {\n      whereCondition = eq(cartItems.userId, userId);\n    } else if (sessionId) {\n      whereCondition = eq(cartItems.sessionId, sessionId);\n    } else {\n      return [];\n    }\n    \n    return await db.select().from(cartItems)\n      .where(whereCondition)\n      .orderBy(desc(cartItems.createdAt));\n  }\n\n  async clearUserCart(userId: number | null, sessionId: string | null): Promise<void> {\n    let whereCondition;\n    \n    if (userId) {\n      whereCondition = eq(cartItems.userId, userId);\n    } else if (sessionId) {\n      whereCondition = eq(cartItems.sessionId, sessionId);\n    } else {\n      return;\n    }\n    \n    await db.delete(cartItems).where(whereCondition);\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":8259},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2254},"shared/schema.ts":{"content":"import { pgTable, text, serial, integer, boolean, json, decimal, timestamp } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Users Table\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  phone: text(\"phone\"),\n  address: text(\"address\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Categories Table\nexport const categories = pgTable(\"categories\", {\n  id: text(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  image: text(\"image\"),\n  parentCategoryId: text(\"parent_category_id\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  sortOrder: integer(\"sort_order\").default(0).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Products Table\nexport const products = pgTable(\"products\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  price: decimal(\"price\", { precision: 10, scale: 2 }).notNull(),\n  originalPrice: decimal(\"original_price\", { precision: 10, scale: 2 }),\n  categoryId: text(\"category_id\"),\n  subcategoryId: text(\"subcategory_id\"),\n  material: text(\"material\"),\n  weight: text(\"weight\"),\n  dimensions: text(\"dimensions\"),\n  purity: text(\"purity\"),\n  inStock: boolean(\"in_stock\").default(true).notNull(),\n  featured: boolean(\"featured\").default(false).notNull(),\n  rating: decimal(\"rating\", { precision: 2, scale: 1 }).default(\"0\").notNull(),\n  reviewsCount: integer(\"reviews_count\").default(0).notNull(),\n  tags: json(\"tags\").$type<string[]>(),\n  images: json(\"images\").$type<string[]>(),\n  specifications: json(\"specifications\").$type<Record<string, any>>(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Product Images Table\nexport const productImages = pgTable(\"product_images\", {\n  id: serial(\"id\").primaryKey(),\n  productId: integer(\"product_id\").notNull(),\n  imageUrl: text(\"image_url\").notNull(),\n  isModelImage: boolean(\"is_model_image\").default(false).notNull(),\n  isPrimary: boolean(\"is_primary\").default(false).notNull(),\n  sortOrder: integer(\"sort_order\").default(0).notNull(),\n  altText: text(\"alt_text\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Orders Table\nexport const orders = pgTable(\"orders\", {\n  id: serial(\"id\").primaryKey(),\n  orderId: text(\"order_id\").notNull().unique(),\n  userId: integer(\"user_id\"),\n  customerName: text(\"customer_name\").notNull(),\n  customerEmail: text(\"customer_email\").notNull(),\n  customerPhone: text(\"customer_phone\").notNull(),\n  customerAddress: text(\"customer_address\").notNull(),\n  subtotal: decimal(\"subtotal\", { precision: 10, scale: 2 }).notNull(),\n  handlingFee: decimal(\"handling_fee\", { precision: 10, scale: 2 }).default(\"0\").notNull(),\n  totalAmount: decimal(\"total_amount\", { precision: 10, scale: 2 }).notNull(),\n  currency: text(\"currency\").default(\"INR\").notNull(),\n  paymentMethod: text(\"payment_method\").notNull(), // 'razorpay' | 'cod'\n  paymentStatus: text(\"payment_status\").default(\"pending\").notNull(), // 'pending' | 'processing' | 'completed' | 'failed' | 'cancelled'\n  orderStatus: text(\"order_status\").default(\"confirmed\").notNull(), // 'confirmed' | 'processing' | 'shipped' | 'delivered' | 'cancelled'\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Order Items Table\nexport const orderItems = pgTable(\"order_items\", {\n  id: serial(\"id\").primaryKey(),\n  orderId: integer(\"order_id\").notNull(),\n  productId: integer(\"product_id\").notNull(),\n  productName: text(\"product_name\").notNull(),\n  productImage: text(\"product_image\"),\n  quantity: integer(\"quantity\").notNull(),\n  unitPrice: decimal(\"unit_price\", { precision: 10, scale: 2 }).notNull(),\n  totalPrice: decimal(\"total_price\", { precision: 10, scale: 2 }).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// User Favorites Table\nexport const userFavorites = pgTable(\"user_favorites\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\"),\n  productId: integer(\"product_id\").notNull(),\n  sessionId: text(\"session_id\"), // For guest users\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Cart Items Table (for persistent cart)\nexport const cartItems = pgTable(\"cart_items\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\"),\n  sessionId: text(\"session_id\"), // For guest users\n  productId: integer(\"product_id\").notNull(),\n  quantity: integer(\"quantity\").default(1).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertCategorySchema = createInsertSchema(categories).omit({\n  createdAt: true,\n});\n\nexport const insertProductSchema = createInsertSchema(products).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertOrderSchema = createInsertSchema(orders).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertOrderItemSchema = createInsertSchema(orderItems).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertUserFavoriteSchema = createInsertSchema(userFavorites).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertCartItemSchema = createInsertSchema(cartItems).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// Types\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport type InsertCategory = z.infer<typeof insertCategorySchema>;\nexport type Category = typeof categories.$inferSelect;\n\nexport type InsertProduct = z.infer<typeof insertProductSchema>;\nexport type Product = typeof products.$inferSelect;\n\nexport type InsertOrder = z.infer<typeof insertOrderSchema>;\nexport type Order = typeof orders.$inferSelect;\n\nexport type InsertOrderItem = z.infer<typeof insertOrderItemSchema>;\nexport type OrderItem = typeof orderItems.$inferSelect;\n\nexport type InsertUserFavorite = z.infer<typeof insertUserFavoriteSchema>;\nexport type UserFavorite = typeof userFavorites.$inferSelect;\n\nexport type InsertCartItem = z.infer<typeof insertCartItemSchema>;\nexport type CartItem = typeof cartItems.$inferSelect;\n","size_bytes":6606},"client/src/App.tsx":{"content":"import React from 'react';\nimport { Router, Route, Switch } from 'wouter';\nimport { AuthProvider } from './context/AuthContext';\nimport { CartProvider } from './context/CartContext';\nimport { FavoritesProvider } from './context/FavoritesContext';\nimport Header from './components/Header';\nimport Hero from './components/Hero';\nimport BestsellerCollections from './components/BestsellerCollections';\nimport CulturalHighlights from './components/CulturalHighlights';\nimport Footer from './components/Footer';\nimport FloatingChat from './components/FloatingChat';\nimport CartDrawer from './components/CartDrawer';\nimport FavoritesDrawer from './components/FavoritesDrawer';\nimport CategoryPage from './components/CategoryPage';\nimport CategoriesPage from './components/CategoriesPage';\nimport LoginPage from './components/LoginPage';\nimport { CashOnDeliveryPage } from './components/CashOnDeliveryPage';\nimport { OrderSuccess } from './components/OrderSuccess';\nimport '@fontsource/playfair-display/400.css';\nimport '@fontsource/playfair-display/700.css';\nimport '@fontsource/poppins/400.css';\nimport '@fontsource/poppins/500.css';\nimport '@fontsource/poppins/600.css';\nimport '@fontsource/poppins/700.css';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <FavoritesProvider>\n          <CartProvider>\n            <div className=\"min-h-screen font-sans\">\n              <Header />\n              <Switch>\n                <Route path=\"/\" component={() => (\n                  <main>\n                    <Hero />\n                    <BestsellerCollections />\n                    <CulturalHighlights />\n                  </main>\n                )} />\n                <Route path=\"/login\" component={LoginPage} />\n                <Route path=\"/categories\" component={CategoriesPage} />\n                <Route path=\"/category/:categoryId\" component={CategoryPage} />\n                <Route path=\"/category/:categoryId/:subcategoryId\" component={CategoryPage} />\n                <Route path=\"/cash-on-delivery\" component={CashOnDeliveryPage} />\n                <Route path=\"/order-success\" component={OrderSuccess} />\n              </Switch>\n              <Footer />\n              <FloatingChat />\n              <CartDrawer />\n              <FavoritesDrawer />\n            </div>\n          </CartProvider>\n        </FavoritesProvider>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;","size_bytes":2408},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n","size_bytes":59},"client/src/main.tsx":{"content":"import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App.tsx';\nimport './index.css';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n","size_bytes":234},"client/src/vite-env.d.ts":{"content":"/// <reference types=\"vite/client\" />\n","size_bytes":38},"client/src/components/AddToCartButton.tsx":{"content":"import React, { useState } from 'react';\nimport { ShoppingCart, Check, Plus } from 'lucide-react';\nimport { useCart } from '../context/CartContext';\nimport { CartItem } from '../types/cart';\n\ninterface AddToCartButtonProps {\n  item: Omit<CartItem, 'quantity'>;\n  className?: string;\n  showText?: boolean;\n}\n\nconst AddToCartButton: React.FC<AddToCartButtonProps> = ({ \n  item, \n  className = '', \n  showText = true \n}) => {\n  const { addItem, toggleCart } = useCart();\n  const [isAdded, setIsAdded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleAddToCart = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setIsLoading(true);\n    \n    // Add item to cart\n    addItem(item);\n    \n    // Show success state\n    setIsAdded(true);\n    \n    // Simulate loading time\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setIsLoading(false);\n    \n    // Auto-open cart drawer after adding item\n    setTimeout(() => {\n      toggleCart();\n    }, 600);\n    \n    // Reset success state\n    setTimeout(() => {\n      setIsAdded(false);\n    }, 2000);\n  };\n\n  const baseClasses = `\n    relative overflow-hidden font-bold rounded-lg transition-all duration-300 transform \n    hover:scale-105 flex items-center justify-center space-x-2 disabled:opacity-50 \n    disabled:cursor-not-allowed disabled:transform-none\n  `;\n\n  const variantClasses = isAdded\n    ? 'bg-green-500 hover:bg-green-600 text-white'\n    : 'bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white';\n\n  return (\n    <button\n      onClick={handleAddToCart}\n      disabled={isLoading}\n      className={`${baseClasses} ${variantClasses} ${className}`}\n    >\n      {/* Loading State */}\n      {isLoading && (\n        <div className=\"absolute inset-0 bg-red-700 flex items-center justify-center\">\n          <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n        </div>\n      )}\n\n      {/* Success State */}\n      {isAdded && !isLoading && (\n        <>\n          <Check className=\"w-5 h-5\" />\n          {showText && <span>Added!</span>}\n        </>\n      )}\n\n      {/* Default State */}\n      {!isAdded && !isLoading && (\n        <>\n          <ShoppingCart className=\"w-5 h-5\" />\n          {showText && <span>Add to Cart</span>}\n        </>\n      )}\n\n      {/* Ripple Effect */}\n      <div className=\"absolute inset-0 bg-white opacity-0 hover:opacity-10 transition-opacity duration-300 rounded-lg\" />\n    </button>\n  );\n};\n\nexport default AddToCartButton;","size_bytes":2575},"client/src/components/BestsellerCollections.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Star } from 'lucide-react';\nimport { useLocation } from 'wouter';\nimport ProductCard from './ProductCard';\nimport ProductModal from './ProductModal';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\n\nconst BestsellerCollections = () => {\n  const [selectedProduct, setSelectedProduct] = useState<any>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    AOS.init({\n      duration: 800,\n      easing: 'ease-in-out',\n      once: true,\n      offset: 120\n    });\n  }, []);\n\n  const collections = [\n    {\n      id: 1,\n      name: 'Royal Thushi Set',\n      price: '₹1',\n      originalPrice: '₹55000',\n      image: '/thushi1.jpg',\n      rating: 4.8,\n      reviews: 124,\n      category: 'Traditional',\n      description: 'Exquisite traditional Thushi set crafted with finest gold and precious stones, perfect for weddings and special occasions.'\n    },\n    {\n      id: 2,\n      name: 'Earrings',\n      price: '₹1',\n      originalPrice: '₹95000',\n      image: '/earring2.jpg',\n      rating: 4.9,\n      reviews: 89,\n      category: 'Premium',\n      description: 'Royal Moti Earrings inspired by Maharashtrian queens, featuring intricate designs and premium work.'\n    },\n    {\n      id: 3,\n      name: 'Heritage Bangles',\n      price: '₹1',\n      originalPrice: '₹38000',\n      image: '/bangle1.png',\n      rating: 4.7,\n      reviews: 67,\n      category: 'Bridal',\n      description: 'Traditional gold Polish bangles with heritage motifs, a symbol of prosperity and marital bliss.'\n    },\n    {\n      id: 4,\n      name: 'Mangalsutra',\n      price: '₹1',\n      originalPrice: '₹22000',\n      image: '/mangalsutra1.png',\n      rating: 4.6,\n      reviews: 156,\n      category: 'Traditional',\n      description: 'Sacred temple-inspired Mangalsutra featuring divine motifs and traditional craftsmanship.'\n    },\n    {\n      id: 5,\n      name: 'Traditional Nath',\n      price: '₹1',\n      originalPrice: '₹32000',\n      image: '/nath.jfif',\n      rating: 4.8,\n      reviews: 93,\n      category: 'Bridal',\n      description: 'Elegant Nath with precious Moti, perfect for bridal occasions and festivals.'\n    },\n    {\n      id: 6,\n      name: 'Oxide Nath Mangalsutra',\n      price: '₹1',\n      originalPrice: '₹42000',\n      image: '/mangalsutra2.jpg',\n      rating: 4.7,\n      reviews: 78,\n      category: 'Heritage',\n      description: 'Antique-style Mangalsutra with traditional patterns, showcasing the rich heritage of Maharashtrian jewelry.'\n    }\n  ];\n\n  const handleQuickView = (product: any) => {\n    setSelectedProduct(product);\n    setIsModalOpen(true);\n  };\n\n  return (\n    <section className=\"py-16 bg-gradient-to-b from-amber-50 to-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Section Header */}\n        <div className=\"text-center mb-16\">\n          <div className=\"inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium mb-4\">\n            <Star className=\"w-4 h-4 mr-2\" />\n            Bestseller Collections\n          </div>\n          <h2 className=\"text-4xl lg:text-5xl font-serif font-bold text-gray-900 mb-6\">\n            Most Loved\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-amber-600\"> Creations</span>\n          </h2>\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n            Discover our customers' favorite pieces, each crafted with meticulous attention to detail \n            and inspired by centuries of Maharashtrian artistry.\n          </p>\n        </div>\n\n        {/* Collections Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {collections.map((product, index) => {\n            // Unique animation effects for variety\n            const animations = ['fade-up-right', 'zoom-in-down', 'flip-left', 'slide-up', 'fade-down-left', 'zoom-out-up'];\n            return (\n              <div\n                key={product.id}\n                data-aos={animations[index % animations.length]}\n                data-aos-delay={index * 150}\n                data-aos-duration=\"1000\"\n                className=\"transform scale-110\" \n              >\n                <ProductCard\n                  product={product}\n                  onQuickView={handleQuickView}\n                  className=\"border-2 border-red-600/20 shadow-red-100\"\n                />\n              </div>\n            );\n          })}\n        </div>\n\n        {/* View All Button */}\n        <div className=\"text-center mt-12\">\n          <button \n            onClick={() => setLocation('/categories')}\n            className=\"group relative bg-gradient-to-r from-yellow-600 via-yellow-500 to-amber-500 hover:from-amber-600 hover:via-yellow-600 hover:to-yellow-700 text-white font-bold py-4 px-8 rounded-full transition-all duration-500 transform hover:scale-110 hover:rotate-3 shadow-lg hover:shadow-2xl overflow-hidden\"\n            data-testid=\"button-view-all-collections\"\n          >\n            <span className=\"relative z-10 flex items-center justify-center space-x-2\">\n              <span className=\"text-lg\">💎</span>\n              <span>View All Collections</span>\n              <span className=\"text-lg\">✨</span>\n            </span>\n            {/* Moving shine effect */}\n            <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700\"></div>\n            {/* Golden glow */}\n            <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-300/0 via-yellow-200/30 to-yellow-300/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n          </button>\n        </div>\n      </div>\n\n      {/* Product Modal */}\n      {selectedProduct && (\n        <ProductModal\n          product={selectedProduct}\n          isOpen={isModalOpen}\n          onClose={() => {\n            setIsModalOpen(false);\n            setSelectedProduct(null);\n          }}\n        />\n      )}\n    </section>\n  );\n};\n\nexport default BestsellerCollections;","size_bytes":6226},"client/src/components/CartDrawer.tsx":{"content":"import React, { useState } from \"react\";\nimport { X, Plus, Minus, ShoppingBag, CreditCard } from \"lucide-react\";\nimport { useCart } from \"../context/CartContext\";\nimport { useAuthContext } from \"../context/AuthContext\";\nimport { useLocation } from \"wouter\";\nimport PaymentModal from \"./PaymentModal\";\n\nconst CartDrawer = () => {\n  const { state, removeItem, updateQuantity, closeCart } = useCart();\n  const { isAuthenticated } = useAuthContext();\n  const [, setLocation] = useLocation();\n  const [showPayment, setShowPayment] = useState(false);\n\n  const formatPrice = (price: string) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      minimumFractionDigits: 0,\n    }).format(parseInt(price.replace(/[^\\d]/g, \"\")));\n  };\n\n  const handleCheckout = () => {\n    if (state.items.length > 0) {\n      if (!isAuthenticated) {\n        // Store intent and redirect to login\n        sessionStorage.setItem('authRedirectPath', '/');\n        sessionStorage.setItem('pendingAction', 'checkout');\n        closeCart();\n        setLocation('/login');\n      } else {\n        setShowPayment(true);\n      }\n    }\n  };\n\n  if (!state.isOpen) return null;\n\n  return (\n    <>\n      {/* Overlay */}\n      <div\n        className=\"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity duration-300\"\n        onClick={closeCart}\n      />\n\n      {/* Cart Drawer */}\n      <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform duration-300 flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-600 to-amber-600\">\n          <div className=\"flex items-center space-x-3\">\n            <ShoppingBag className=\"w-6 h-6 text-white\" />\n            <h2 className=\"text-xl font-bold text-white\">Shopping Cart</h2>\n            <span className=\"bg-white text-red-600 rounded-full px-2 py-1 text-sm font-bold\">\n              {state.itemCount}\n            </span>\n          </div>\n          <button\n            onClick={closeCart}\n            className=\"p-2 hover:bg-white/20 rounded-full transition-colors duration-200\"\n          >\n            <X className=\"w-6 h-6 text-white\" />\n          </button>\n        </div>\n\n        {/* Cart Items */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {state.items.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <ShoppingBag className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Your cart is empty\n              </h3>\n              <p className=\"text-gray-500\">\n                Add some beautiful jewelry to get started!\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {state.items.map((item) => (\n                <div\n                  key={item.id}\n                  className=\"flex items-center space-x-4 bg-gray-50 rounded-lg p-4\"\n                >\n                  <div className=\"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0\">\n                    <img\n                      src={item.image}\n                      alt={item.name}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-medium text-gray-900 truncate\">\n                      {item.name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">{item.category}</p>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      <span className=\"font-bold text-red-600\">\n                        {formatPrice(item.price)}\n                      </span>\n                      <span className=\"text-sm text-gray-400 line-through\">\n                        {formatPrice(item.originalPrice)}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                      className=\"p-1 hover:bg-gray-200 rounded-full transition-colors duration-200\"\n                    >\n                      <Minus className=\"w-4 h-4\" />\n                    </button>\n                    <span className=\"w-8 text-center font-medium\">\n                      {item.quantity}\n                    </span>\n                    <button\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                      className=\"p-1 hover:bg-gray-200 rounded-full transition-colors duration-200\"\n                    >\n                      <Plus className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n\n                  <button\n                    onClick={() => removeItem(item.id)}\n                    className=\"p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors duration-200\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        {state.items.length > 0 && (\n          <div className=\"border-t border-gray-200 p-6 bg-gray-50\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <span className=\"text-lg font-medium text-gray-900\">Total:</span>\n              <span className=\"text-2xl font-bold text-red-600\">\n                {formatPrice(state.total.toString())}\n              </span>\n            </div>\n\n            <button\n              onClick={handleCheckout}\n              className=\"w-full bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700 text-white font-bold py-4 rounded-lg transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2\"\n            >\n              <CreditCard className=\"w-5 h-5\" />\n              <span>Proceed to Buy</span>\n            </button>\n\n            <p className=\"text-xs text-gray-500 text-center mt-2\">\n              Secure payment powered by Razorpay\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Payment Modal */}\n      {showPayment && (\n        <PaymentModal\n          isOpen={showPayment}\n          onClose={() => setShowPayment(false)}\n          cartItems={state.items}\n          total={state.total}\n        />\n      )}\n    </>\n  );\n};\n\nexport default CartDrawer;\n","size_bytes":6600},"client/src/components/CashOnDeliveryPage.tsx":{"content":"import React, { useEffect } from 'react';\nimport { useLocation } from 'wouter';\n\nexport function CashOnDeliveryPage() {\n  const [, setLocation] = useLocation();\n  \n  // This component is no longer needed since COD is handled directly in PaymentModal\n  // Redirect to home page\n  useEffect(() => {\n    setLocation('/');\n  }, [setLocation]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center\">\n      <div className=\"text-center\">\n        <p className=\"text-gray-600 dark:text-gray-300\">Redirecting to homepage...</p>\n      </div>\n    </div>\n  );\n}","size_bytes":602},"client/src/components/CategoriesPage.tsx":{"content":"import React from 'react';\nimport { useLocation } from 'wouter';\nimport { ArrowLeft, Sparkles } from 'lucide-react';\nimport { categories } from '../data/products';\n\nconst CategoriesPage = () => {\n  const [, setLocation] = useLocation();\n\n  const handleCategoryClick = (categoryId: string) => {\n    setLocation(`/category/${categoryId}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-amber-50 to-white\">\n      {/* Header */}\n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8\">\n        <button\n          onClick={() => setLocation('/')}\n          className=\"flex items-center text-gray-600 hover:text-red-600 transition-colors duration-200 mb-8\"\n          data-testid=\"button-back-home\"\n        >\n          <ArrowLeft className=\"w-5 h-5 mr-2\" />\n          Back to Home\n        </button>\n      </div>\n\n      {/* Hero Section */}\n      <div className=\"text-center mb-16 px-4 sm:px-6 lg:px-8\">\n        <div className=\"inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium mb-4\">\n          <Sparkles className=\"w-4 h-4 mr-2\" />\n          All Collections\n        </div>\n        <h1 className=\"text-4xl lg:text-5xl font-serif font-bold text-gray-900 mb-6\">\n          Browse Our\n          <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-amber-600\"> Jewelry Collections</span>\n        </h1>\n        <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n          Discover the finest traditional Maharashtrian jewelry, crafted with love and heritage. \n          Each collection tells a story of timeless elegance and cultural richness.\n        </p>\n      </div>\n\n      {/* Categories Grid */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16\">\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8\">\n          {categories.map((category) => (\n            <div\n              key={category.id}\n              onClick={() => handleCategoryClick(category.id)}\n              className=\"group cursor-pointer transform transition-all duration-300 hover:scale-105\"\n              data-testid={`category-${category.id}`}\n            >\n              {/* Circular Image Container */}\n              <div className=\"relative mb-4\">\n                <div className=\"w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-amber-300 shadow-lg group-hover:border-red-500 transition-colors duration-300 bg-gradient-to-br from-amber-100 to-red-100 p-2\">\n                  <div className=\"w-full h-full rounded-full overflow-hidden\">\n                    <img\n                      src={category.image}\n                      alt={category.name}\n                      className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n                      data-testid={`img-category-${category.id}`}\n                    />\n                  </div>\n                </div>\n                \n                {/* Hover Overlay */}\n                <div className=\"absolute inset-0 rounded-full bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4\">\n                  <span className=\"text-white text-xs font-medium\">View Collection</span>\n                </div>\n              </div>\n\n              {/* Category Name */}\n              <div className=\"text-center\">\n                <h3 \n                  className=\"text-lg font-serif font-bold text-gray-900 group-hover:text-red-600 transition-colors duration-200 mb-2\"\n                  data-testid={`text-category-name-${category.id}`}\n                >\n                  {category.name}\n                </h3>\n                <p className=\"text-sm text-gray-600 group-hover:text-gray-800 transition-colors duration-200 line-clamp-2\">\n                  {category.description}\n                </p>\n              </div>\n\n              {/* Decorative Elements */}\n              <div className=\"flex justify-center mt-3 space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                <div className=\"w-1 h-1 bg-red-600 rounded-full\"></div>\n                <div className=\"w-1 h-1 bg-amber-600 rounded-full\"></div>\n                <div className=\"w-1 h-1 bg-red-600 rounded-full\"></div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Featured Section */}\n      <div className=\"bg-gradient-to-r from-red-600 to-amber-600 py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"text-3xl font-serif font-bold text-white mb-4\">\n            Handcrafted with Love\n          </h2>\n          <p className=\"text-amber-100 text-lg max-w-2xl mx-auto mb-8\">\n            Every piece in our collection is meticulously crafted by skilled artisans, \n            preserving the traditional techniques passed down through generations.\n          </p>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 text-white\">\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold mb-2\">100+</div>\n              <div className=\"text-amber-200\">Unique Designs</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold mb-2\">500+</div>\n              <div className=\"text-amber-200\">Happy Customers</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold mb-2\">25+</div>\n              <div className=\"text-amber-200\">Years of Experience</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoriesPage;","size_bytes":5724},"client/src/components/CategoryPage.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { useRoute, useLocation } from 'wouter';\nimport { Grid, List, Filter, SortAsc, Star, Eye, Heart } from 'lucide-react';\nimport { categories, getProductsByCategory } from '../data/products';\nimport { Product } from '../types/product';\nimport AddToCartButton from './AddToCartButton';\nimport ProductModal from './ProductModal';\nimport FavoriteButton from './FavoriteButton';\n\nconst CategoryPage: React.FC = () => {\n  const [, params] = useRoute('/category/:categoryId/:subcategoryId?');\n  const [, setLocation] = useLocation();\n  const categoryId = params?.categoryId;\n  const subcategoryId = params?.subcategoryId;\n  const [products, setProducts] = useState<Product[]>([]);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [sortBy, setSortBy] = useState<'name' | 'price' | 'rating'>('name');\n  const [filterBy, setFilterBy] = useState<'all' | 'inStock' | 'featured'>('all');\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const category = categories.find(cat => cat.id === categoryId);\n\n  useEffect(() => {\n    if (categoryId) {\n      const categoryProducts = getProductsByCategory(categoryId, subcategoryId);\n      setProducts(categoryProducts);\n    }\n  }, [categoryId, subcategoryId]);\n\n  const filteredAndSortedProducts = products\n    .filter(product => {\n      if (filterBy === 'inStock') return product.inStock;\n      if (filterBy === 'featured') return product.featured;\n      return true;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'price':\n          return parseInt(a.price.replace(/[^\\d]/g, '')) - parseInt(b.price.replace(/[^\\d]/g, ''));\n        case 'rating':\n          return b.rating - a.rating;\n        default:\n          return a.name.localeCompare(b.name);\n      }\n    });\n\n  const formatPrice = (price: string) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n    }).format(parseInt(price.replace(/[^\\d]/g, '')));\n  };\n\n  const handleProductClick = (product: Product) => {\n    setSelectedProduct(product);\n    setIsModalOpen(true);\n  };\n\n  const handleQuickView = (e: React.MouseEvent, product: Product) => {\n    e.stopPropagation();\n    setSelectedProduct(product);\n    setIsModalOpen(true);\n  };\n\n  if (!category) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Category Not Found</h1>\n          <button\n            onClick={() => setLocation('/')}\n            className=\"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors\"\n          >\n            Go Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Hero Section */}\n      <div className=\"relative h-64 bg-gradient-to-r from-red-900 to-amber-900\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-40\" />\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center\">\n          <div>\n            <nav className=\"text-amber-200 text-sm mb-4\">\n              <button onClick={() => setLocation('/')} className=\"hover:text-white\">Home</button>\n              <span className=\"mx-2\">/</span>\n              <span className=\"text-white\">{category.name}</span>\n              {subcategoryId && (\n                <>\n                  <span className=\"mx-2\">/</span>\n                  <span className=\"text-white\">\n                    {category.subcategories.find(sub => sub.id === subcategoryId)?.name}\n                  </span>\n                </>\n              )}\n            </nav>\n            <h1 className=\"text-4xl font-serif font-bold text-white mb-2\">\n              {subcategoryId \n                ? category.subcategories.find(sub => sub.id === subcategoryId)?.name \n                : category.name}\n            </h1>\n            <p className=\"text-amber-100 text-lg max-w-2xl\">\n              {subcategoryId \n                ? category.subcategories.find(sub => sub.id === subcategoryId)?.description \n                : category.description}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Subcategories (if viewing main category) */}\n        {!subcategoryId && category.subcategories.length > 0 && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Browse by Category</h2>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n              {category.subcategories.map((subcategory) => (\n                <button\n                  key={subcategory.id}\n                  onClick={() => setLocation(`/category/${categoryId}/${subcategory.id}`)}\n                  className=\"group bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden\"\n                >\n                  <div className=\"aspect-square bg-gray-100 overflow-hidden\">\n                    <img\n                      src={subcategory.image}\n                      alt={subcategory.name}\n                      className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\n                    />\n                  </div>\n                  <div className=\"p-3\">\n                    <h3 className=\"font-medium text-gray-900 text-sm\">{subcategory.name}</h3>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Filters and Controls */}\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 space-y-4 md:space-y-0\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Filter className=\"w-5 h-5 text-gray-600\" />\n              <select\n                value={filterBy}\n                onChange={(e) => setFilterBy(e.target.value as any)}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500\"\n              >\n                <option value=\"all\">All Products</option>\n                <option value=\"inStock\">In Stock</option>\n                <option value=\"featured\">Featured</option>\n              </select>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <SortAsc className=\"w-5 h-5 text-gray-600\" />\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value as any)}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500\"\n              >\n                <option value=\"name\">Sort by Name</option>\n                <option value=\"price\">Sort by Price</option>\n                <option value=\"rating\">Sort by Rating</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`p-2 rounded-lg ${viewMode === 'grid' ? 'bg-red-600 text-white' : 'bg-gray-200 text-gray-600'}`}\n            >\n              <Grid className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`p-2 rounded-lg ${viewMode === 'list' ? 'bg-red-600 text-white' : 'bg-gray-200 text-gray-600'}`}\n            >\n              <List className=\"w-5 h-5\" />\n            </button>\n            <span className=\"text-gray-600 ml-4\">\n              {filteredAndSortedProducts.length} products found\n            </span>\n          </div>\n        </div>\n\n        {/* Products Grid/List */}\n        {filteredAndSortedProducts.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <div className=\"text-gray-400 mb-4\">\n              <Grid className=\"w-16 h-16 mx-auto\" />\n            </div>\n            <h3 className=\"text-xl font-medium text-gray-900 mb-2\">No products found</h3>\n            <p className=\"text-gray-600\">Try adjusting your filters or browse other categories.</p>\n          </div>\n        ) : (\n          <div className={viewMode === 'grid' \n            ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6'\n            : 'space-y-6'\n          }>\n            {filteredAndSortedProducts.map((product) => (\n              <div\n                key={product.id}\n                className={`group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer ${\n                  viewMode === 'list' ? 'flex' : ''\n                }`}\n                onClick={() => handleProductClick(product)}\n              >\n                {/* Product Image */}\n                <div className={`relative overflow-hidden ${\n                  viewMode === 'list' ? 'w-48 flex-shrink-0' : 'aspect-square'\n                }`}>\n                  <img\n                    src={product.image}\n                    alt={product.name}\n                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n                  />\n                  \n                  {/* Overlay Actions */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center\">\n                    <div className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex space-x-2\">\n                      <button\n                        onClick={(e) => handleQuickView(e, product)}\n                        className=\"bg-white text-gray-900 p-2 rounded-full hover:bg-gray-100 transition-colors\"\n                      >\n                        <Eye className=\"w-5 h-5\" />\n                      </button>\n                      <button className=\"bg-white text-red-600 p-2 rounded-full hover:bg-gray-100 transition-colors\">\n                        <Heart className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Badges */}\n                  <div className=\"absolute top-3 left-3 flex flex-col space-y-2\">\n                    {product.featured && (\n                      <span className=\"bg-amber-500 text-white px-2 py-1 rounded text-xs font-bold\">\n                        Featured\n                      </span>\n                    )}\n                    {!product.inStock && (\n                      <span className=\"bg-red-500 text-white px-2 py-1 rounded text-xs font-bold\">\n                        Out of Stock\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Discount Badge */}\n                  <div className=\"absolute top-3 right-3\">\n                    <div className=\"bg-white p-2 rounded-full hover:bg-gray-100 transition-colors\">\n                      <FavoriteButton\n                        item={{\n                          id: product.id,\n                          name: product.name,\n                          price: product.price,\n                          originalPrice: product.originalPrice,\n                          image: product.image,\n                          category: product.category,\n                          rating: product.rating,\n                          reviews: product.reviews,\n                        }}\n                        size=\"md\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Product Info */}\n                <div className={`p-4 ${viewMode === 'list' ? 'flex-1' : ''}`}>\n                  <div className=\"flex items-center mb-2\">\n                    <div className=\"flex items-center text-amber-500 mr-2\">\n                      {[...Array(5)].map((_, i) => (\n                        <Star key={i} className={`w-4 h-4 ${i < Math.floor(product.rating) ? 'fill-current' : ''}`} />\n                      ))}\n                    </div>\n                    <span className=\"text-sm text-gray-600\">({product.reviews})</span>\n                  </div>\n\n                  <h3 className=\"font-serif font-bold text-gray-900 mb-2 group-hover:text-red-800 transition-colors\">\n                    {product.name}\n                  </h3>\n\n                  {viewMode === 'list' && (\n                    <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\n                      {product.description}\n                    </p>\n                  )}\n\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-xl font-bold text-red-600\">{formatPrice(product.price)}</span>\n                      <span className=\"text-sm text-gray-400 line-through\">{formatPrice(product.originalPrice)}</span>\n                    </div>\n                  </div>\n\n                  <AddToCartButton\n                    item={{\n                      id: product.id,\n                      name: product.name,\n                      price: product.price,\n                      originalPrice: product.originalPrice,\n                      image: product.image,\n                      category: product.category,\n                      rating: product.rating,\n                      reviews: product.reviews,\n                    }}\n                    className=\"w-full py-2\"\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Product Modal */}\n      {selectedProduct && (\n        <ProductModal\n          product={selectedProduct}\n          isOpen={isModalOpen}\n          onClose={() => {\n            setIsModalOpen(false);\n            setSelectedProduct(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CategoryPage;","size_bytes":14110},"client/src/components/CulturalHighlights.tsx":{"content":"import React from 'react';\r\nimport { Crown, Gem, Shield, Award } from 'lucide-react';\r\n\r\nconst CulturalHighlights = () => {\r\n  const features = [\r\n    {\r\n      icon: Crown,\r\n      title: 'Royal Heritage',\r\n      description: 'Each piece carries the legacy of Maratha royalty and traditional craftsmanship'\r\n    },\r\n    {\r\n      icon: Gem,\r\n      title: 'Premium Quality',\r\n      description: 'Certified gold and precious stones sourced from the finest suppliers'\r\n    },\r\n    {\r\n      icon: Shield,\r\n      title: 'Lifetime Warranty',\r\n      description: 'Complete protection and maintenance for all our jewelry pieces'\r\n    },\r\n    {\r\n      icon: Award,\r\n      title: 'Master Craftsmen',\r\n      description: 'Handcrafted by skilled artisans with generations of expertise'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <section className=\"py-16 bg-gradient-to-br from-red-900 via-purple-900 to-amber-900 relative overflow-hidden\">\r\n      {/* Background Pattern */}\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-40\"></div>\r\n      <div \r\n        className=\"absolute inset-0 opacity-5\"\r\n        style={{\r\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 10L60 40L90 40L67.5 57.5L75 87.5L50 70L25 87.5L32.5 57.5L10 40L40 40L50 10Z' fill='%23FFD700' fill-opacity='0.1'/%3E%3C/svg%3E\")`,\r\n        }}\r\n      ></div>\r\n\r\n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\r\n          {/* Left Content */}\r\n          <div>\r\n            <div className=\"mb-8\">\r\n              <span className=\"inline-block px-4 py-2 bg-amber-500 text-black rounded-full text-sm font-bold mb-4\">\r\n                Traditional Excellence Since 2002\r\n              </span>\r\n              <h2 className=\"text-4xl lg:text-5xl font-serif font-bold text-white mb-6 leading-tight\">\r\n                Thushi & \r\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-yellow-300\">\r\n                  {\" \"}Maharashtrian Treasures\r\n                </span>\r\n              </h2>\r\n              <p className=\"text-xl text-amber-100 mb-8 leading-relaxed\">\r\n                Immerse yourself in the rich cultural heritage of Maharashtra with our authentic Jewellary collections \r\n                and traditional ornaments that have adorned generations of royal families.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Features Grid */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              {features.map((feature, index) => (\r\n                <div key={index} className=\"flex items-start space-x-4 p-4 bg-white/10 rounded-lg backdrop-blur-sm border border-amber-200/20\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <feature.icon className=\"w-8 h-8 text-amber-400\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-bold text-white mb-2\">{feature.title}</h3>\r\n                    <p className=\"text-amber-100 text-sm\">{feature.description}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"mt-8\">\r\n              <button className=\"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-black font-bold py-4 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-xl\">\r\n                Explore Thushi Collection\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Content - Images */}\r\n          <div className=\"relative\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              {/* Large Image */}\r\n              <div className=\"col-span-2 relative\">\r\n                <div className=\"aspect-video rounded-2xl overflow-hidden shadow-2xl\">\r\n                  <img\r\n                    src=\"/hero1 - Copy.jpg\"\r\n                    alt=\"Traditional Thushi Collection\"\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent\"></div>\r\n                  <div className=\"absolute bottom-4 left-4 text-white\">\r\n                    <h3 className=\"font-serif font-bold text-lg\">Traditional Thushi Set</h3>\r\n                    <p className=\"text-amber-200\">Authentic Maharashtrian Design</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Small Images */}\r\n              <div className=\"aspect-square rounded-xl overflow-hidden shadow-xl\">\r\n                <img\r\n                  src=\"/hero3.jpg\"\r\n                  alt=\"Heritage Jewelry\"\r\n                  className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-500\"\r\n                />\r\n              </div>\r\n              <div className=\"aspect-square rounded-xl overflow-hidden shadow-xl\">\r\n                <img\r\n                  src=\"/hero2.jpg\"\r\n                  alt=\"Royal Ornaments\"\r\n                  className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Floating Elements */}\r\n            <div className=\"absolute -top-4 -left-4 w-16 h-16 bg-amber-400 rounded-full opacity-80 animate-pulse\"></div>\r\n            <div className=\"absolute -bottom-4 -right-4 w-12 h-12 bg-purple-500 rounded-full opacity-60 animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Trust Indicators */}\r\n        <div className=\"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-center\">\r\n          <div>\r\n            <div className=\"text-3xl font-bold text-amber-400 mb-2\">25+</div>\r\n            <div className=\"text-amber-100 font-medium\">Years of Heritage</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-3xl font-bold text-amber-400 mb-2\">5000+</div>\r\n            <div className=\"text-amber-100 font-medium\">Happy Customers</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-3xl font-bold text-amber-400 mb-2\">25+</div>\r\n            <div className=\"text-amber-100 font-medium\">Master Artisans</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-3xl font-bold text-amber-400 mb-2\">99.9%</div>\r\n            <div className=\"text-amber-100 font-medium\">Trust Purity</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CulturalHighlights;","size_bytes":6613},"client/src/components/FavoriteButton.tsx":{"content":"import React, { useState } from 'react';\nimport { Heart } from 'lucide-react';\nimport { useFavorites } from '../context/FavoritesContext';\nimport { FavoriteItem } from '../types/favorites';\n\ninterface FavoriteButtonProps {\n  item: Omit<FavoriteItem, 'dateAdded'>;\n  className?: string;\n  showText?: boolean;\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst FavoriteButton: React.FC<FavoriteButtonProps> = ({ \n  item, \n  className = '', \n  showText = false,\n  size = 'md'\n}) => {\n  const { addFavorite, removeFavorite, isFavorite } = useFavorites();\n  const [isAnimating, setIsAnimating] = useState(false);\n  \n  const isLiked = isFavorite(item.id);\n\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-5 h-5',\n    lg: 'w-6 h-6'\n  };\n\n  const handleToggleFavorite = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setIsAnimating(true);\n    \n    if (isLiked) {\n      removeFavorite(item.id);\n    } else {\n      addFavorite(item);\n    }\n    \n    // Reset animation after a short delay\n    setTimeout(() => setIsAnimating(false), 300);\n  };\n\n  return (\n    <button\n      onClick={handleToggleFavorite}\n      className={`\n        group relative flex items-center justify-center space-x-2 \n        transition-all duration-300 transform hover:scale-110\n        ${isLiked \n          ? 'text-red-500 hover:text-red-600' \n          : 'text-gray-400 hover:text-red-500'\n        }\n        ${className}\n      `}\n      aria-label={isLiked ? 'Remove from favorites' : 'Add to favorites'}\n    >\n      {/* Heart Icon */}\n      <div className=\"relative\">\n        <Heart \n          className={`\n            ${sizeClasses[size]} transition-all duration-300\n            ${isLiked ? 'fill-current' : 'fill-none'}\n            ${isAnimating ? 'animate-pulse scale-125' : ''}\n          `}\n        />\n        \n        {/* Animated heart particles effect */}\n        {isAnimating && !isLiked && (\n          <div className=\"absolute inset-0 pointer-events-none\">\n            {[...Array(6)].map((_, i) => (\n              <div\n                key={i}\n                className=\"absolute w-1 h-1 bg-red-500 rounded-full animate-ping\"\n                style={{\n                  top: '50%',\n                  left: '50%',\n                  animationDelay: `${i * 50}ms`,\n                  transform: `translate(-50%, -50%) rotate(${i * 60}deg) translateY(-10px)`,\n                }}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Optional text */}\n      {showText && (\n        <span className=\"text-sm font-medium\">\n          {isLiked ? 'Liked' : 'Like'}\n        </span>\n      )}\n\n      {/* Tooltip */}\n      <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n        {isLiked ? 'Remove from favorites' : 'Add to favorites'}\n      </div>\n    </button>\n  );\n};\n\nexport default FavoriteButton;","size_bytes":3010},"client/src/components/FavoritesDrawer.tsx":{"content":"import React from 'react';\nimport { X, Heart, ShoppingCart, Trash2 } from 'lucide-react';\nimport { useFavorites } from '../context/FavoritesContext';\nimport { useCart } from '../context/CartContext';\nimport AddToCartButton from './AddToCartButton';\n\nconst FavoritesDrawer: React.FC = () => {\n  const { state, closeFavorites, removeFavorite } = useFavorites();\n  const { addItem } = useCart();\n\n  const formatPrice = (price: string) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n    }).format(parseInt(price.replace(/[^\\d]/g, '')));\n  };\n\n  const handleRemoveFavorite = (id: number, e: React.MouseEvent) => {\n    e.stopPropagation();\n    removeFavorite(id);\n  };\n\n  const handleAddToCart = (item: any, e: React.MouseEvent) => {\n    e.stopPropagation();\n    addItem({\n      id: item.id,\n      name: item.name,\n      price: item.price,\n      originalPrice: item.originalPrice,\n      image: item.image,\n      category: item.category,\n      rating: item.rating,\n      reviews: item.reviews,\n    });\n  };\n\n  if (!state.isOpen) return null;\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className=\"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity duration-300\"\n        onClick={closeFavorites}\n      />\n\n      {/* Favorites Drawer */}\n      <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform duration-300 flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-pink-500 to-red-500\">\n          <div className=\"flex items-center space-x-3\">\n            <Heart className=\"w-6 h-6 text-white fill-current\" />\n            <h2 className=\"text-xl font-bold text-white\">My Favorites</h2>\n            <span className=\"bg-white text-pink-600 rounded-full px-2 py-1 text-sm font-bold\">\n              {state.count}\n            </span>\n          </div>\n          <button\n            onClick={closeFavorites}\n            className=\"p-2 hover:bg-white/20 rounded-full transition-colors duration-200\"\n          >\n            <X className=\"w-6 h-6 text-white\" />\n          </button>\n        </div>\n\n        {/* Favorites Items */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {state.items.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Heart className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No favorites yet</h3>\n              <p className=\"text-gray-500\">Start adding jewelry pieces you love!</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {state.items.map((item) => (\n                <div key={item.id} className=\"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors duration-200\">\n                  <div className=\"flex items-start space-x-4\">\n                    {/* Product Image */}\n                    <div className=\"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0\">\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                    \n                    {/* Product Info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-medium text-gray-900 truncate mb-1\">{item.name}</h3>\n                      <p className=\"text-sm text-gray-500 mb-2\">{item.category}</p>\n                      \n                      <div className=\"flex items-center space-x-2 mb-3\">\n                        <span className=\"font-bold text-red-600 text-sm\">{formatPrice(item.price)}</span>\n                        <span className=\"text-xs text-gray-400 line-through\">\n                          {formatPrice(item.originalPrice)}\n                        </span>\n                      </div>\n\n                      {/* Action Buttons */}\n                      <div className=\"flex items-center space-x-2\">\n                        <AddToCartButton\n                          item={{\n                            id: item.id,\n                            name: item.name,\n                            price: item.price,\n                            originalPrice: item.originalPrice,\n                            image: item.image,\n                            category: item.category,\n                            rating: item.rating,\n                            reviews: item.reviews,\n                          }}\n                          className=\"flex-1 py-2 text-xs\"\n                          showText={false}\n                        />\n                        \n                        <button\n                          onClick={(e) => handleRemoveFavorite(item.id, e)}\n                          className=\"p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors duration-200\"\n                          aria-label=\"Remove from favorites\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Date Added */}\n                  <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                    <p className=\"text-xs text-gray-400\">\n                      Added {new Date(item.dateAdded).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Footer Actions */}\n        {state.items.length > 0 && (\n          <div className=\"border-t border-gray-200 p-6 bg-gray-50\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <span className=\"text-sm text-gray-600\">\n                {state.count} item{state.count !== 1 ? 's' : ''} in favorites\n              </span>\n              <button\n                onClick={() => {\n                  state.items.forEach(item => removeFavorite(item.id));\n                }}\n                className=\"text-sm text-red-600 hover:text-red-700 font-medium\"\n              >\n                Clear All\n              </button>\n            </div>\n            \n            <button\n              onClick={() => {\n                // Add all favorites to cart\n                state.items.forEach(item => {\n                  addItem({\n                    id: item.id,\n                    name: item.name,\n                    price: item.price,\n                    originalPrice: item.originalPrice,\n                    image: item.image,\n                    category: item.category,\n                    rating: item.rating,\n                    reviews: item.reviews,\n                  });\n                });\n                closeFavorites();\n              }}\n              className=\"w-full bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-600 hover:to-red-600 text-white font-bold py-3 rounded-lg transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2\"\n            >\n              <ShoppingCart className=\"w-5 h-5\" />\n              <span>Add All to Cart</span>\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default FavoritesDrawer;","size_bytes":7391},"client/src/components/FloatingChat.tsx":{"content":"import React, { useState } from 'react';\nimport { X, Send } from 'lucide-react';\nimport { FaWhatsapp } from 'react-icons/fa';\n\nconst FloatingChat = () => {\n  const [isWhatsAppOpen, setIsWhatsAppOpen] = useState(false);\n  \n  // WhatsApp business number and welcome message\n  const whatsappNumber = \"+918998099889\"; // Replace with actual business WhatsApp number\n  const welcomeMessage = \"Hello! Welcome to Mrugaya Jewelry 🙏\\n\\nI'm interested in your beautiful traditional Maharashtrian jewelry collection. Could you please help me with more information about your products?\";\n\n  const handleWhatsAppClick = () => {\n    if (isWhatsAppOpen) {\n      // Close the preview\n      setIsWhatsAppOpen(false);\n    } else {\n      // Show preview for 2 seconds then open WhatsApp\n      setIsWhatsAppOpen(true);\n      setTimeout(() => {\n        setIsWhatsAppOpen(false);\n        // Open WhatsApp with welcome message\n        const encodedMessage = encodeURIComponent(welcomeMessage);\n        const whatsappUrl = `https://wa.me/${whatsappNumber.replace(/[^0-9]/g, '')}?text=${encodedMessage}`;\n        window.open(whatsappUrl, '_blank');\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-6 right-6 z-50\">\n      {/* WhatsApp Preview Window */}\n      {isWhatsAppOpen && (\n        <div className=\"bg-white rounded-2xl shadow-2xl border border-green-200 w-80 h-auto mb-4 overflow-hidden\">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-green-600 to-green-500 text-white p-4 flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-white rounded-full flex items-center justify-center\">\n                <FaWhatsapp className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div>\n                <div className=\"font-bold text-sm\">Mrugaya Jewelry</div>\n                <div className=\"text-xs text-green-100\">Connect via WhatsApp</div>\n              </div>\n            </div>\n            <button \n              onClick={() => setIsWhatsAppOpen(false)}\n              className=\"hover:bg-white/20 p-1 rounded\"\n              data-testid=\"button-close-whatsapp-preview\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Preview Message */}\n          <div className=\"p-4\">\n            <div className=\"bg-green-50 rounded-xl p-3 border-l-4 border-green-500\">\n              <p className=\"text-sm text-gray-800 mb-2\">\n                <strong>Welcome Message Preview:</strong>\n              </p>\n              <p className=\"text-sm text-gray-700 whitespace-pre-line\">\n                {welcomeMessage}\n              </p>\n            </div>\n            <div className=\"text-xs text-gray-500 mt-2 text-center\">\n              Opening WhatsApp in a moment...\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Floating WhatsApp Button */}\n      <button\n        onClick={handleWhatsAppClick}\n        className=\"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-110 relative group\"\n        data-testid=\"button-whatsapp-chat\"\n        title=\"Chat with us on WhatsApp\"\n      >\n        {isWhatsAppOpen ? (\n          <X className=\"w-6 h-6\" />\n        ) : (\n          <>\n            <FaWhatsapp className=\"w-6 h-6\" />\n            {/* Notification Dot */}\n            <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-400 rounded-full animate-pulse\"></div>\n            {/* Tooltip */}\n            <div className=\"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap\">\n              Chat on WhatsApp\n            </div>\n          </>\n        )}\n      </button>\n    </div>\n  );\n};\n\nexport default FloatingChat;","size_bytes":3931},"client/src/components/Footer.tsx":{"content":"import React from 'react';\nimport { \n  MapPin, \n  Phone, \n  Mail, \n  Clock, \n  Facebook, \n  Instagram, \n  Twitter, \n  Youtube,\n  Shield,\n  Ruler,\n  RotateCcw,\n  Award,\n  Sparkles,\n  Heart\n} from 'lucide-react';\n\nconst Footer: React.FC = () => {\n  const currentYear = new Date().getFullYear();\n\n  const quickLinks = [\n    { name: 'Jewelry Care Guide', icon: Sparkles, href: '#care-guide' },\n    { name: 'Size Guide', icon: Ruler, href: '#size-guide' },\n    { name: 'Return & Exchange', icon: RotateCcw, href: '#returns' },\n    { name: 'Warranty Information', icon: Shield, href: '#warranty' },\n    { name: 'Custom Jewelry', icon: Award, href: '#custom' }\n  ];\n\n  const socialLinks = [\n    { name: 'Facebook', icon: Facebook, href: '#', color: 'hover:text-blue-600' },\n    { name: 'Instagram', icon: Instagram, href: '#', color: 'hover:text-pink-600' },\n    { name: 'Twitter', icon: Twitter, href: '#', color: 'hover:text-blue-400' },\n    { name: 'YouTube', icon: Youtube, href: '#', color: 'hover:text-red-600' }\n  ];\n\n  const collections = [\n    'Traditional Thushi',\n    'Bridal Collections',\n    'Temple Jewelry',\n    'Antique Designs',\n    'Modern Fusion',\n    'Custom Pieces'\n  ];\n\n  return (\n    <footer className=\"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white relative overflow-hidden\">\n      {/* Background Pattern */}\n      <div \n        className=\"absolute inset-0 opacity-5\"\n        style={{\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFD700' fill-opacity='0.1'%3E%3Cpath d='M30 10L35 20L45 20L37.5 27.5L40 37.5L30 32.5L20 37.5L22.5 27.5L15 20L25 20L30 10Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\n        }}\n      />\n\n      <div className=\"relative z-10\">\n        {/* Main Footer Content */}\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-12\">\n            \n            {/* Company Information */}\n            <div className=\"lg:col-span-1 space-y-6\">\n              <div className=\"flex items-center space-x-3\">\n                <img \n                  src=\"/logo4.png\" \n                  alt=\"Mrugaya Logo\" \n                  className=\"h-16 w-autoz\"\n                />\n                <div>\n                  <h3 className=\"text-2xl font-serif font-bold text-amber-400\">मृगया</h3>\n                  <p className=\"text-sm text-gray-300\">Heritage Since 1992</p>\n                </div>\n              </div>\n              \n              <p className=\"text-gray-300 leading-relaxed\">\n                Crafting exquisite Maharashtrian jewelry with traditional artistry and modern elegance. \n                Each piece tells a story of heritage, culture, and timeless beauty.\n              </p>\n\n              {/* Social Media Links */}\n              <div className=\"flex space-x-4\">\n                {socialLinks.map((social) => (\n                  <a\n                    key={social.name}\n                    href={social.href}\n                    className={`p-3 bg-gray-800 rounded-full transition-all duration-300 transform hover:scale-110 ${social.color}`}\n                    aria-label={social.name}\n                  >\n                    <social.icon className=\"w-5 h-5\" />\n                  </a>\n                ))}\n              </div>\n            </div>\n\n            {/* Quick Links */}\n            <div className=\"space-y-6\">\n              <h4 className=\"text-xl font-bold text-amber-400 border-b border-amber-400/30 pb-2\">\n                Customer Care\n              </h4>\n              <ul className=\"space-y-3\">\n                {quickLinks.map((link) => (\n                  <li key={link.name}>\n                    <a\n                      href={link.href}\n                      className=\"flex items-center space-x-3 text-gray-300 hover:text-amber-400 transition-colors duration-200 group\"\n                    >\n                      <link.icon className=\"w-4 h-4 group-hover:text-amber-400\" />\n                      <span>{link.name}</span>\n                    </a>\n                  </li>\n                ))}\n              </ul>\n\n              {/* Collections */}\n              <div className=\"mt-8\">\n                <h5 className=\"text-lg font-semibold text-white mb-4\">Our Collections</h5>\n                <ul className=\"space-y-2\">\n                  {collections.map((collection) => (\n                    <li key={collection}>\n                      <a\n                        href=\"#\"\n                        className=\"text-gray-400 hover:text-amber-400 transition-colors duration-200 text-sm\"\n                      >\n                        {collection}\n                      </a>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n\n            {/* Contact Information */}\n            <div className=\"space-y-6\">\n              <h4 className=\"text-xl font-bold text-amber-400 border-b border-amber-400/30 pb-2\">\n                Contact Information\n              </h4>\n              \n              <div className=\"space-y-4\">\n                {/* Address */}\n                <div className=\"flex items-start space-x-3\">\n                  <MapPin className=\"w-5 h-5 text-amber-400 mt-1 flex-shrink-0\" />\n                  <div>\n                    <p className=\"text-white font-medium\">Visit Our Store</p>\n                    <address className=\"text-gray-300 not-italic leading-relaxed\">\n                      123 Heritage Street,<br />\n                      Jewelry Quarter,<br />\n                      Pune, Maharashtra 411001<br />\n                      India\n                    </address>\n                  </div>\n                </div>\n\n                {/* Phone */}\n                <div className=\"flex items-center space-x-3\">\n                  <Phone className=\"w-5 h-5 text-amber-400\" />\n                  <div>\n                    <p className=\"text-white font-medium\">Call Us</p>\n                    <a \n                      href=\"tel:+919876543210\" \n                      className=\"text-gray-300 hover:text-amber-400 transition-colors duration-200\"\n                    >\n                      +91 900 000 0000\n                    </a>\n                  </div>\n                </div>\n\n                {/* Email */}\n                <div className=\"flex items-center space-x-3\">\n                  <Mail className=\"w-5 h-5 text-amber-400\" />\n                  <div>\n                    <p className=\"text-white font-medium\">Email Us</p>\n                    <a \n                      href=\"mailto:info@mrugaya.com\" \n                      className=\"text-gray-300 hover:text-amber-400 transition-colors duration-200\"\n                    >\n                      info@mrugaya.com\n                    </a>\n                  </div>\n                </div>\n\n                {/* Business Hours */}\n                <div className=\"flex items-start space-x-3\">\n                  <Clock className=\"w-5 h-5 text-amber-400 mt-1\" />\n                  <div>\n                    <p className=\"text-white font-medium\">Business Hours</p>\n                    <div className=\"text-gray-300 text-sm space-y-1\">\n                      <p>Monday - Saturday: 10:00 AM - 8:00 PM</p>\n                      <p>Sunday: 11:00 AM - 6:00 PM</p>\n                      <p className=\"text-amber-400\">Closed on major festivals</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Map Integration */}\n            <div className=\"space-y-6\">\n              <h4 className=\"text-xl font-bold text-amber-400 border-b border-amber-400/30 pb-2\">\n                Find Us\n              </h4>\n              \n              {/* Interactive Map */}\n              <div className=\"relative\">\n                <div className=\"aspect-video rounded-lg overflow-hidden border-2 border-amber-400/30\">\n                  <iframe\n                    src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3783.2612404153894!2d73.8567437!3d18.5204303!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2c147b8b3a3bf%3A0x6f7fdcc8e4d6c77e!2sPune%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1635000000000!5m2!1sen!2sin\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    style={{ border: 0 }}\n                    allowFullScreen\n                    loading=\"lazy\"\n                    referrerPolicy=\"no-referrer-when-downgrade\"\n                    title=\"Mrugaya Jewelry Store Location\"\n                    className=\"filter grayscale hover:grayscale-0 transition-all duration-300\"\n                  />\n                </div>\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none rounded-lg\" />\n              </div>\n\n              {/* Newsletter Signup */}\n              <div className=\"bg-gradient-to-r from-amber-600/20 to-red-600/20 rounded-lg p-6 border border-amber-400/30\">\n                <div className=\"flex items-center space-x-2 mb-3\">\n                  <Heart className=\"w-5 h-5 text-amber-400\" />\n                  <h5 className=\"text-lg font-semibold text-white\">Stay Connected</h5>\n                </div>\n                <p className=\"text-gray-300 text-sm mb-4\">\n                  Subscribe to receive updates on new collections and exclusive offers.\n                </p>\n                <div className=\"flex space-x-2\">\n                  <input\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    className=\"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-amber-400 transition-colors duration-200\"\n                  />\n                  <button className=\"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-medium px-4 py-2 rounded-lg transition-all duration-200 transform hover:scale-105\">\n                    Subscribe\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n       \n        {/* Bottom Bar */}\n        <div className=\"border-t border-gray-700 bg-black/50\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\n              <div className=\"text-center md:text-left\">\n                <p className=\"text-gray-400 text-sm\">\n                  © {currentYear} Mrugaya - मृगया. All rights reserved.\n                </p>\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  Crafted with <Heart className=\"w-3 h-3 inline text-red-500\" /> by CybaemTech\n                </p>\n              </div>\n              \n              <div className=\"flex flex-wrap justify-center md:justify-end space-x-6 text-sm\">\n                <a href=\"#privacy\" className=\"text-gray-400 hover:text-amber-400 transition-colors duration-200\">\n                  Privacy Policy\n                </a>\n                <a href=\"#terms\" className=\"text-gray-400 hover:text-amber-400 transition-colors duration-200\">\n                  Terms of Service\n                </a>\n                <a href=\"#cookies\" className=\"text-gray-400 hover:text-amber-400 transition-colors duration-200\">\n                  Cookie Policy\n                </a>\n                <a href=\"#sitemap\" className=\"text-gray-400 hover:text-amber-400 transition-colors duration-200\">\n                  Sitemap\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;","size_bytes":11803},"client/src/components/Header.tsx":{"content":"import React, { useState } from 'react';\nimport { Link } from 'wouter';\nimport { Search, User, ShoppingCart, Heart, Menu, X, ChevronDown, LogOut } from 'lucide-react';\nimport { useCart } from '../context/CartContext';\nimport { useFavorites } from '../context/FavoritesContext';\nimport { useAuthContext } from '../context/AuthContext';\nimport { categories } from '../data/products';\n\nconst Header = () => {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState<string | null>(null);\n  const [userDropdownOpen, setUserDropdownOpen] = useState(false);\n  const { state, toggleCart } = useCart();\n  const { state: favoritesState, toggleFavorites } = useFavorites();\n  const { isAuthenticated, user, logout, login } = useAuthContext();\n\n  const handleCategoryClick = (categoryId: string, subcategoryId?: string) => {\n    const url = subcategoryId ? `/category/${categoryId}/${subcategoryId}` : `/category/${categoryId}`;\n    // Use Link navigation instead of window.location\n    setIsMobileMenuOpen(false);\n    setActiveDropdown(null);\n  };\n\n  return (\n    <header className=\"sticky top-0 z-50 bg-white shadow-lg border-b border-amber-200\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-24\">\n          {/* Logo */}\n          <div className=\"flex items-center\">\n            {/* Clickable logo that redirects to home page */}\n            <Link to=\"/\" className=\"flex items-center\" aria-label=\"Go to homepage\">\n              <img src=\"/logo4.png\" alt=\"Mrugaya Jewelry - Company Logo\" className=\"h-24 w-auto hover:opacity-90 transition-opacity duration-200\" />\n            </Link>\n          </div>\n\n\n\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden lg:flex space-x-8\">\n            {/* Home navigation link */}\n            <Link \n              to=\"/\" \n              className=\"text-gray-800 hover:text-red-900 font-medium transition-colors duration-200\"\n            >\n              Home\n            </Link>\n            \n            {categories.map((category) => (\n              <div\n                key={category.id}\n                className=\"relative group\"\n                onMouseEnter={() => setActiveDropdown(category.id)}\n                onMouseLeave={() => setActiveDropdown(null)}\n              >\n                <button className=\"flex items-center space-x-1 text-gray-800 hover:text-red-900 font-medium transition-colors duration-200\">\n                  <span>{category.name}</span>\n                  {category.subcategories && category.subcategories.length > 0 && <ChevronDown className=\"w-4 h-4\" />}\n                </button>\n                \n                {activeDropdown === category.id && category.subcategories && category.subcategories.length > 0 && (\n                  <div className=\"absolute top-full left-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-amber-200 py-2\">\n                    <Link\n                      href={`/category/${category.id}`}\n                      className=\"block w-full text-left px-4 py-2 text-sm font-medium text-red-900 hover:bg-amber-50 transition-colors duration-200\"\n                      onClick={() => { setIsMobileMenuOpen(false); setActiveDropdown(null); }}\n                    >\n                      View All {category.name}\n                    </Link>\n                    <div className=\"border-t border-gray-100 my-1\"></div>\n                    {category.subcategories.map((subcategory) => (\n                      <Link\n                        key={subcategory.id}\n                        href={`/category/${category.id}/${subcategory.id}`}\n                        className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-amber-50 hover:text-red-900 transition-colors duration-200\"\n                        onClick={() => { setIsMobileMenuOpen(false); setActiveDropdown(null); }}\n                      >\n                        {subcategory.name}\n                      </Link>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </nav>\n\n          {/* Right Icons */}\n          <div className=\"flex items-center space-x-4\">\n            <button className=\"p-2 text-gray-700 hover:text-red-900 transition-colors duration-200\">\n              <Search className=\"w-5 h-5\" />\n            </button>\n            {/* User Authentication */}\n            <div className=\"relative\">\n              {isAuthenticated ? (\n                <div>\n                  <button\n                    onClick={() => setUserDropdownOpen(!userDropdownOpen)}\n                    className=\"flex items-center space-x-2 p-2 text-gray-700 hover:text-red-900 transition-colors duration-200\"\n                    data-testid=\"button-user-menu\"\n                  >\n                    {user?.picture ? (\n                      <img\n                        src={user.picture}\n                        alt={user.name || 'User'}\n                        className=\"w-6 h-6 rounded-full\"\n                      />\n                    ) : (\n                      <User className=\"w-5 h-5\" />\n                    )}\n                    <ChevronDown className=\"w-3 h-3\" />\n                  </button>\n                  \n                  {userDropdownOpen && (\n                    <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50\">\n                      <div className=\"px-4 py-3 border-b border-gray-100\">\n                        <p className=\"text-sm font-medium text-gray-900\">{user?.name || 'User'}</p>\n                        <p className=\"text-sm text-gray-500 truncate\">{user?.email}</p>\n                      </div>\n                      <div className=\"py-1\">\n                        <button className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                          My Orders\n                        </button>\n                        <button className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                          Account Settings\n                        </button>\n                        <div className=\"border-t border-gray-100 my-1\"></div>\n                        <button\n                          onClick={logout}\n                          className=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center\"\n                          data-testid=\"button-logout\"\n                        >\n                          <LogOut className=\"w-4 h-4 mr-2\" />\n                          Sign Out\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <Link\n                  href=\"/login\"\n                  className=\"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium\"\n                  data-testid=\"button-login\"\n                >\n                  <User className=\"w-4 h-4\" />\n                  <span>Sign In</span>\n                </Link>\n              )}\n            </div>\n            <button \n              onClick={toggleFavorites}\n              className=\"p-2 text-gray-700 hover:text-red-900 transition-colors duration-200 relative group\"\n            >\n              <Heart className=\"w-5 h-5\" />\n              {favoritesState.count > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-pink-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center animate-pulse\">\n                  {favoritesState.count}\n                </span>\n              )}\n              \n              {/* Tooltip */}\n              <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n                My Favorites ({favoritesState.count})\n              </div>\n            </button>\n            <button \n              onClick={toggleCart}\n              className=\"p-2 text-gray-700 hover:text-red-900 transition-colors duration-200 relative\"\n            >\n              <ShoppingCart className=\"w-5 h-5\" />\n              {state.itemCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center animate-pulse\">\n                  {state.itemCount}\n                </span>\n              )}\n            </button>\n\n            {/* Mobile Menu Button */}\n            <button\n              className=\"lg:hidden p-2\"\n              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n            >\n              {isMobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {isMobileMenuOpen && (\n        <div className=\"lg:hidden bg-white border-t border-amber-200\">\n          <div className=\"px-4 pt-2 pb-4 space-y-2\">\n            {categories.map((category) => (\n              <div key={category.id} className=\"border-b border-amber-100 pb-2\">\n                <button \n                  onClick={() => handleCategoryClick(category.id)}\n                  className=\"w-full text-left font-medium text-gray-800 py-2 hover:text-red-900\"\n                >\n                  {category.name}\n                </button>\n                {category.subcategories && category.subcategories.length > 0 && (\n                  <div className=\"pl-4 space-y-1\">\n                    {category.subcategories.map((subcategory) => (\n                      <button\n                        key={subcategory.id}\n                        onClick={() => handleCategoryClick(category.id, subcategory.id)}\n                        className=\"block py-1 text-sm text-gray-600 hover:text-red-900\"\n                      >\n                        {subcategory.name}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Header;","size_bytes":10272},"client/src/components/Hero.tsx":{"content":"\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Sparkles, ArrowRight, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nconst Hero = () => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  // Jewelry collection data for different slides\r\n  const jewelrySlides = [\r\n    {\r\n      id: 1,\r\n      title: \"Gold Threads.\",\r\n      subtitle: \"Stories of the Past.\",\r\n      description: \"Discover timeless elegance in our exquisite collection of traditional Maharashtrian jewelry, where each piece carries the legacy of generations.\",\r\n      image: \"/hero1.jpg\",\r\n      alt: \"Traditional Gold Necklace Set\",\r\n      category: \"Heritage Necklace Collection\"\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Gold Threads.\",\r\n      subtitle: \"Royal Elegance.\",\r\n      description: \"Experience the grandeur of Maharashtrian royalty with our authentic Thushi earrings, handcrafted by master artisans using traditional techniques.\",\r\n      image: \"/hero3.jpg\",\r\n      alt: \"Traditional Thushi Earrings\",\r\n      category: \"Royal Thushi Collection\"\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Gold Threads.\",\r\n      subtitle: \"Bridal Splendor.\",\r\n      description: \"Adorn yourself with our magnificent bridal bangles collection, featuring intricate designs that symbolize prosperity and marital bliss.\",\r\n      image: \"/hero2.jpg\",\r\n      alt: \"Traditional Bridal Bangles\",\r\n      category: \"Bridal Bangle Collection\"\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Gold Threads.\",\r\n      subtitle: \"Sacred Beauty.\",\r\n      description: \"Embrace tradition with our exquisite Nath collection, featuring delicate nose rings that have adorned Maharashtrian brides for centuries.\",\r\n      image: \"/hero1.jpg\",\r\n      alt: \"Traditional Maharashtrian Nath\",\r\n      category: \"Sacred Nath Collection\"\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Gold Threads.\",\r\n      subtitle: \"Graceful Steps.\",\r\n      description: \"Complete your traditional ensemble with our elegant anklet collection, designed to add grace and melody to every step you take.\",\r\n      image: \"hero3.jpg\",\r\n      alt: \"Traditional Gold Anklets\",\r\n      category: \"Elegant Anklet Collection\"\r\n    }\r\n  ];\r\n\r\n  // Auto-slide functionality\r\n  useEffect(() => {\r\n    if (!isHovered) {\r\n      const interval = setInterval(() => {\r\n        setCurrentSlide((prev) => (prev + 1) % jewelrySlides.length);\r\n      }, 4500); // 4.5 seconds per slide\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isHovered, jewelrySlides.length]);\r\n\r\n  // Navigation functions\r\n  const goToSlide = (index: number) => {\r\n    setCurrentSlide(index);\r\n  };\r\n\r\n  const goToPrevious = () => {\r\n    setCurrentSlide((prev) => (prev - 1 + jewelrySlides.length) % jewelrySlides.length);\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setCurrentSlide((prev) => (prev + 1) % jewelrySlides.length);\r\n  };\r\n\r\n  const currentJewelry = jewelrySlides[currentSlide];\r\n\r\n  return (\r\n    <section \r\n      className=\"relative h-screen overflow-hidden\"\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      {/* Full-screen background images with sliding effect */}\r\n      <div className=\"absolute inset-0 transition-all duration-1000 ease-in-out\">\r\n        {jewelrySlides.map((slide, index) => (\r\n          <div\r\n            key={slide.id}\r\n            className={`absolute inset-0 transition-opacity duration-1000 ${\r\n              index === currentSlide ? 'opacity-100' : 'opacity-0'\r\n            }`}\r\n            style={{\r\n              backgroundImage: `url(${slide.image})`,\r\n              backgroundSize: 'cover',\r\n              backgroundPosition: 'center',\r\n            }}\r\n          >\r\n            <div className=\"absolute inset-0 bg-gradient-to-br from-red-900/70 via-purple-900/70 to-amber-900/70\"></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Background Pattern */}\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-20\"></div>\r\n      <div \r\n        className=\"absolute inset-0 opacity-10\"\r\n        style={{\r\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='80' height='70' viewBox='0 0 70 70' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFD700' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\r\n        }}\r\n      ></div>\r\n\r\n      {/* Navigation Arrows */}\r\n      <button\r\n        onClick={goToPrevious}\r\n        className=\"absolute left-6 top-1/2 transform -translate-y-1/2 z-20 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm border border-amber-400/30 hover:border-amber-400\"\r\n      >\r\n        <ChevronLeft className=\"w-6 h-6\" />\r\n      </button>\r\n      \r\n      <button\r\n        onClick={goToNext}\r\n        className=\"absolute right-6 top-1/2 transform -translate-y-1/2 z-20 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm border border-amber-400/30 hover:border-amber-400\"\r\n      >\r\n        <ChevronRight className=\"w-6 h-6\" />\r\n      </button>\r\n\r\n      {/* Content */}\r\n      <div className=\"relative z-10 h-full flex items-center\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\r\n            {/* Text Content */}\r\n            <div className=\"text-center lg:text-left\">\r\n              <div className=\"flex items-center justify-center lg:justify-start mb-6\">\r\n                <Sparkles className=\"w-8 h-8 text-amber-400 mr-3\" />\r\n                <span className=\"text-amber-400 font-medium tracking-wider uppercase text-sm transition-all duration-500\">\r\n                  {currentJewelry.category}\r\n                </span>\r\n              </div>\r\n              \r\n              <h1 className=\"text-5xl lg:text-7xl font-serif font-bold text-white leading-tight mb-6 transition-all duration-500\">\r\n                {currentJewelry.title}\r\n                <br />\r\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-yellow-300\">\r\n                  {currentJewelry.subtitle}\r\n                </span>\r\n              </h1>\r\n              \r\n              <p className=\"text-xl text-amber-100 mb-8 leading-relaxed max-w-lg mx-auto lg:mx-0 transition-all duration-500\">\r\n                {currentJewelry.description}\r\n              </p>\r\n              \r\n              <div className=\"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start\">\r\n                <button className=\"group bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-black font-bold py-4 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-xl\">\r\n                  <span className=\"flex items-center\">\r\n                    Explore Collection\r\n                    <ArrowRight className=\"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform\" />\r\n                  </span>\r\n                </button>\r\n                \r\n                <button className=\"border-2 border-amber-400 text-amber-400 hover:bg-amber-400 hover:text-black font-bold py-4 px-8 rounded-full transition-all duration-300\">\r\n                  View Heritage Story\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Image Content - Removed the individual image since we're using full-screen backgrounds */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Slide Indicators */}\r\n      <div className=\"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-20\">\r\n        <div className=\"flex space-x-3\">\r\n          {jewelrySlides.map((_, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => goToSlide(index)}\r\n              className={`w-3 h-3 rounded-full transition-all duration-300 ${\r\n                index === currentSlide\r\n                  ? 'bg-amber-400 w-8'\r\n                  : 'bg-white/50 hover:bg-white/70'\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scroll Indicator */}\r\n      <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2\">\r\n        <div className=\"animate-bounce\">\r\n          <div className=\"w-6 h-10 border-2 border-amber-400 rounded-full flex justify-center\">\r\n            <div className=\"w-1 h-2 bg-amber-400 rounded-full mt-2 animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"absolute bottom-0 left-0 w-full h-1 bg-black/30\">\r\n        <div \r\n          className=\"h-full bg-gradient-to-r from-amber-400 to-yellow-300 transition-all duration-300 ease-linear\"\r\n          style={{\r\n            width: `${((currentSlide + 1) / jewelrySlides.length) * 100}%`\r\n          }}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Hero;","size_bytes":8933},"client/src/components/LoginPage.tsx":{"content":"import React, { useEffect } from 'react';\nimport { useAuthContext } from '../context/AuthContext';\nimport { useLocation } from 'wouter';\nimport { Sparkles, ArrowLeft, Shield, Users, Zap } from 'lucide-react';\n\nconst LoginPage: React.FC = () => {\n  const { isAuthenticated, isLoading, login } = useAuthContext();\n  const [, setLocation] = useLocation();\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      // Check if there's a redirect path stored\n      const redirectPath = sessionStorage.getItem('authRedirectPath');\n      if (redirectPath) {\n        sessionStorage.removeItem('authRedirectPath');\n        setLocation(redirectPath);\n      } else {\n        setLocation('/');\n      }\n    }\n  }, [isAuthenticated, setLocation]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-amber-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-red-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-amber-50 to-orange-50\">\n      {/* Header */}\n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8\">\n        <button\n          onClick={() => setLocation('/')}\n          className=\"flex items-center text-gray-600 hover:text-red-600 transition-colors duration-200 mb-8\"\n          data-testid=\"button-back-home\"\n        >\n          <ArrowLeft className=\"w-5 h-5 mr-2\" />\n          Back to Shopping\n        </button>\n      </div>\n\n      <div className=\"flex min-h-screen\">\n        {/* Left Side - Branding */}\n        <div className=\"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-red-600 to-amber-600 relative overflow-hidden\">\n          <div className=\"absolute inset-0 bg-black bg-opacity-20\"></div>\n          <div className=\"relative z-10 flex flex-col justify-center px-12 text-white\">\n            <div className=\"mb-8\">\n              <Sparkles className=\"w-16 h-16 text-amber-300 mb-6\" />\n              <h1 className=\"text-5xl font-serif font-bold mb-4\">\n                मृगया\n                <span className=\"block text-3xl font-light text-amber-200\">Mrugaya Jewelry</span>\n              </h1>\n              <p className=\"text-xl text-amber-100 leading-relaxed\">\n                Where tradition meets elegance. Discover authentic Maharashtrian jewelry crafted with love and heritage.\n              </p>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <div className=\"flex items-center\">\n                <Shield className=\"w-6 h-6 text-amber-300 mr-3\" />\n                <span className=\"text-amber-100\">Secure & Trusted Platform</span>\n              </div>\n              <div className=\"flex items-center\">\n                <Users className=\"w-6 h-6 text-amber-300 mr-3\" />\n                <span className=\"text-amber-100\">Join 10,000+ Happy Customers</span>\n              </div>\n              <div className=\"flex items-center\">\n                <Zap className=\"w-6 h-6 text-amber-300 mr-3\" />\n                <span className=\"text-amber-100\">Quick & Easy Checkout</span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Decorative Pattern */}\n          <div className=\"absolute top-0 right-0 w-64 h-64 opacity-10\">\n            <svg viewBox=\"0 0 200 200\" className=\"w-full h-full\">\n              <defs>\n                <pattern id=\"jewelry-pattern\" x=\"0\" y=\"0\" width=\"40\" height=\"40\" patternUnits=\"userSpaceOnUse\">\n                  <circle cx=\"20\" cy=\"20\" r=\"2\" fill=\"currentColor\" />\n                  <circle cx=\"20\" cy=\"0\" r=\"1\" fill=\"currentColor\" />\n                  <circle cx=\"0\" cy=\"20\" r=\"1\" fill=\"currentColor\" />\n                  <circle cx=\"40\" cy=\"20\" r=\"1\" fill=\"currentColor\" />\n                  <circle cx=\"20\" cy=\"40\" r=\"1\" fill=\"currentColor\" />\n                </pattern>\n              </defs>\n              <rect width=\"200\" height=\"200\" fill=\"url(#jewelry-pattern)\" />\n            </svg>\n          </div>\n        </div>\n\n        {/* Right Side - Login Form */}\n        <div className=\"w-full lg:w-1/2 flex items-center justify-center px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-md w-full space-y-8\">\n            {/* Mobile Logo */}\n            <div className=\"lg:hidden text-center mb-8\">\n              <Sparkles className=\"w-12 h-12 text-red-600 mx-auto mb-4\" />\n              <h2 className=\"text-3xl font-serif font-bold text-gray-900\">Mrugaya Jewelry</h2>\n              <p className=\"text-gray-600 mt-2\">Traditional Maharashtrian Jewelry</p>\n            </div>\n\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8\">\n              <div className=\"text-center\">\n                <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                  Welcome Back!\n                </h2>\n                <p className=\"text-gray-600 mb-8\">\n                  Sign in to access your jewelry collection and enjoy a personalized shopping experience.\n                </p>\n              </div>\n\n              {/* Login Options */}\n              <div className=\"space-y-4\">\n                <button\n                  onClick={login}\n                  className=\"w-full flex items-center justify-center px-4 py-3 border-2 border-red-600 rounded-lg text-red-600 hover:bg-red-600 hover:text-white transition-all duration-200 font-semibold\"\n                  data-testid=\"button-login-auth0\"\n                >\n                  <Shield className=\"w-5 h-5 mr-3\" />\n                  Continue with Auth0\n                </button>\n\n                <div className=\"relative\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <div className=\"w-full border-t border-gray-300\" />\n                  </div>\n                  <div className=\"relative flex justify-center text-sm\">\n                    <span className=\"px-2 bg-white text-gray-500\">Secure login options</span>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 gap-3\">\n                  <button\n                    onClick={() => login()}\n                    className=\"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium\"\n                    data-testid=\"button-login-google\"\n                  >\n                    <svg className=\"w-5 h-5 mr-3\" viewBox=\"0 0 24 24\">\n                      <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                      <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                      <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                      <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                    </svg>\n                    Continue with Google\n                  </button>\n\n                  <button\n                    onClick={() => login()}\n                    className=\"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium\"\n                    data-testid=\"button-login-facebook\"\n                  >\n                    <svg className=\"w-5 h-5 mr-3\" fill=\"#1877F2\" viewBox=\"0 0 24 24\">\n                      <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                    </svg>\n                    Continue with Facebook\n                  </button>\n\n                  <button\n                    onClick={() => login()}\n                    className=\"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium\"\n                    data-testid=\"button-login-phone\"\n                  >\n                    <svg className=\"w-5 h-5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                    </svg>\n                    Continue with Phone\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"mt-8 text-center\">\n                <p className=\"text-sm text-gray-500\">\n                  By continuing, you agree to our{' '}\n                  <a href=\"#\" className=\"text-red-600 hover:text-red-700 font-medium\">\n                    Terms of Service\n                  </a>{' '}\n                  and{' '}\n                  <a href=\"#\" className=\"text-red-600 hover:text-red-700 font-medium\">\n                    Privacy Policy\n                  </a>\n                </p>\n              </div>\n            </div>\n\n            {/* Benefits */}\n            <div className=\"mt-8 bg-white/80 backdrop-blur-sm rounded-xl p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 text-center\">\n                Why create an account?\n              </h3>\n              <div className=\"space-y-3 text-sm text-gray-600\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-red-600 rounded-full mr-3\"></div>\n                  Track your orders and delivery status\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-red-600 rounded-full mr-3\"></div>\n                  Save your favorite jewelry pieces\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-red-600 rounded-full mr-3\"></div>\n                  Get exclusive offers and early access\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-red-600 rounded-full mr-3\"></div>\n                  Faster checkout experience\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;","size_bytes":10924},"client/src/components/OrderSuccess.tsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { CheckCircle, Package, Truck, Calendar, Copy, ArrowRight } from 'lucide-react';\n\nexport function OrderSuccess() {\n  const [, setLocation] = useLocation();\n  const [orderDetails, setOrderDetails] = useState({\n    orderId: '',\n    type: '',\n    amount: '',\n    delivery: ''\n  });\n\n  useEffect(() => {\n    // Get order details from URL parameters\n    const urlParams = new URLSearchParams(window.location.search);\n    setOrderDetails({\n      orderId: urlParams.get('orderId') || '',\n      type: urlParams.get('type') || '',\n      amount: urlParams.get('amount') || '',\n      delivery: urlParams.get('delivery') || ''\n    });\n  }, []);\n\n  const copyOrderId = () => {\n    navigator.clipboard.writeText(orderDetails.orderId);\n    alert(\"Order ID copied to clipboard!\");\n  };\n\n  const getPaymentMethodText = () => {\n    switch (orderDetails.type) {\n      case 'cod':\n        return 'Cash on Delivery';\n      case 'razorpay':\n        return 'Online Payment';\n      default:\n        return 'Payment';\n    }\n  };\n\n  const getDeliverySteps = () => {\n    if (orderDetails.type === 'cod') {\n      return [\n        { icon: CheckCircle, title: 'Order Confirmed', desc: 'Your order has been placed successfully', completed: true },\n        { icon: Package, title: 'Processing', desc: 'We are preparing your jewelry', completed: false },\n        { icon: Truck, title: 'Shipped', desc: 'Your order will be dispatched soon', completed: false },\n        { icon: Calendar, title: 'Delivered', desc: `Expected by ${orderDetails.delivery}`, completed: false }\n      ];\n    } else {\n      return [\n        { icon: CheckCircle, title: 'Payment Verified', desc: 'Your payment has been confirmed', completed: true },\n        { icon: Package, title: 'Processing', desc: 'We are preparing your jewelry', completed: false },\n        { icon: Truck, title: 'Shipped', desc: 'Your order will be dispatched soon', completed: false },\n        { icon: Calendar, title: 'Delivered', desc: `Expected by ${orderDetails.delivery}`, completed: false }\n      ];\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          \n          {/* Success Header */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full mb-4\">\n              <CheckCircle className=\"w-8 h-8 text-green-600 dark:text-green-400\" />\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n              Order Placed Successfully!\n            </h1>\n            <p className=\"text-gray-600 dark:text-gray-300\">\n              Thank you for your purchase. Your order has been confirmed.\n            </p>\n          </div>\n\n          {/* Order Details Card */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-medium\">Order Details</h3>\n                <span className=\"text-sm font-normal text-green-600 dark:text-green-400\">\n                  ✓ Confirmed\n                </span>\n              </div>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Order ID</p>\n                    <div className=\"flex items-center gap-2\">\n                      <p className=\"font-mono font-medium\">{orderDetails.orderId}</p>\n                      <button\n                        onClick={copyOrderId}\n                        className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                      >\n                        <Copy className=\"h-3 w-3\" />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Payment Method</p>\n                    <p className=\"font-medium\">{getPaymentMethodText()}</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-3\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Total Amount</p>\n                    <p className=\"font-bold text-lg\">₹{parseInt(orderDetails.amount || '0').toLocaleString()}</p>\n                  </div>\n                  \n                  {orderDetails.delivery && (\n                    <div>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">Expected Delivery</p>\n                      <p className=\"font-medium\">{orderDetails.delivery}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {orderDetails.type === 'cod' && (\n                <div className=\"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg mt-4\">\n                  <h4 className=\"font-medium text-amber-800 dark:text-amber-200 mb-2\">\n                    Cash on Delivery Instructions\n                  </h4>\n                  <ul className=\"text-sm text-amber-700 dark:text-amber-300 space-y-1\">\n                    <li>• Keep exact amount ready: ₹{parseInt(orderDetails.amount || '0').toLocaleString()}</li>\n                    <li>• Verify the product before making payment</li>\n                    <li>• COD handling fee is included in the total amount</li>\n                    <li>• Please be available at the delivery address</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Order Progress */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h3 className=\"text-lg font-medium\">Order Progress</h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                {getDeliverySteps().map((step, index) => {\n                  const Icon = step.icon;\n                  return (\n                    <div key={index} className=\"flex items-start gap-4\">\n                      <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${\n                        step.completed \n                          ? 'bg-green-100 dark:bg-green-900/20' \n                          : 'bg-gray-100 dark:bg-gray-800'\n                      }`}>\n                        <Icon className={`w-4 h-4 ${\n                          step.completed \n                            ? 'text-green-600 dark:text-green-400' \n                            : 'text-gray-400 dark:text-gray-500'\n                        }`} />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h4 className={`font-medium ${\n                          step.completed \n                            ? 'text-green-900 dark:text-green-100' \n                            : 'text-gray-900 dark:text-gray-100'\n                        }`}>\n                          {step.title}\n                        </h4>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {step.desc}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <button\n              onClick={() => setLocation('/')}\n              className=\"flex items-center gap-2 justify-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium rounded-md transition-colors duration-200\"\n              data-testid=\"button-continue-shopping\"\n            >\n              Continue Shopping\n              <ArrowRight className=\"w-4 h-4\" />\n            </button>\n            \n            <button\n              onClick={() => setLocation('/orders')}\n              className=\"flex items-center gap-2 justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors duration-200\"\n              data-testid=\"button-view-orders\"\n            >\n              View All Orders\n              <Package className=\"w-4 h-4\" />\n            </button>\n          </div>\n\n          {/* Contact Information */}\n          <div className=\"text-center mt-8 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm\">\n            <h3 className=\"font-medium text-gray-900 dark:text-white mb-2\">\n              Need Help?\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\n              If you have any questions about your order, please contact us.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-2 justify-center text-sm\">\n              <span className=\"text-gray-500 dark:text-gray-400\">Email: support@mrugaya.com</span>\n              <span className=\"hidden sm:inline text-gray-300 dark:text-gray-600\">|</span>\n              <span className=\"text-gray-500 dark:text-gray-400\">Phone: +91 98765 43210</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":9905},"client/src/components/PaymentModal.tsx":{"content":"import React, { useState } from 'react';\nimport { X, CreditCard, Smartphone, Shield, CheckCircle, AlertCircle, Loader, QrCode, Banknote, Copy, Download } from 'lucide-react';\nimport { CartItem } from '../types/cart';\nimport { useCart } from '../context/CartContext';\nimport PaymentVerification from './PaymentVerification';\nimport { \n  initiateRazorpayPayment, \n  generateUPIQRCode, \n  processCODOrder, \n  formatAmount \n} from '../services/razorpayService';\nimport { PaymentResponse, CODOrder } from '../types/payment';\n\ninterface PaymentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  cartItems: CartItem[];\n  total: number;\n}\n\ninterface CustomerInfo {\n  name: string;\n  email: string;\n  phone: string;\n  address: string;\n}\n\nconst PaymentModal: React.FC<PaymentModalProps> = ({ isOpen, onClose, cartItems, total }) => {\n  const { clearCart, closeCart } = useCart();\n  const [step, setStep] = useState<'details' | 'payment' | 'processing' | 'success' | 'error' | 'qr-code' | 'cod-success'>('details');\n  const [customerInfo, setCustomerInfo] = useState<CustomerInfo>({\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n  });\n  const [errors, setErrors] = useState<Partial<CustomerInfo>>({});\n  const [paymentResponse, setPaymentResponse] = useState<PaymentResponse | null>(null);\n  const [qrCodeData, setQrCodeData] = useState<{ qrCodeUrl: string; orderId: string } | null>(null);\n  const [codOrder, setCodOrder] = useState<CODOrder | null>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [showVerification, setShowVerification] = useState(false);\n  const [verificationData, setVerificationData] = useState<{ paymentId: string; orderId: string; amount: number } | null>(null);\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Partial<CustomerInfo> = {};\n\n    if (!customerInfo.name.trim()) newErrors.name = 'Name is required';\n    if (!customerInfo.email.trim()) newErrors.email = 'Email is required';\n    else if (!/\\S+@\\S+\\.\\S+/.test(customerInfo.email)) newErrors.email = 'Email is invalid';\n    if (!customerInfo.phone.trim()) newErrors.phone = 'Phone is required';\n    else if (!/^\\d{10}$/.test(customerInfo.phone.replace(/\\D/g, ''))) newErrors.phone = 'Phone must be 10 digits';\n    if (!customerInfo.address.trim()) newErrors.address = 'Address is required';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleInputChange = (field: keyof CustomerInfo, value: string) => {\n    setCustomerInfo(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const handleDigitalPayment = async (paymentMethod: 'phonepe' | 'googlepay' | 'upi' | 'card') => {\n    setIsProcessing(true);\n    setStep('processing');\n\n    try {\n      const response = await initiateRazorpayPayment(\n        total,\n        customerInfo,\n        cartItems,\n        paymentMethod\n      );\n\n      setPaymentResponse(response);\n\n      if (response.success) {\n        // Show payment verification instead of immediate success\n        setVerificationData({\n          paymentId: response.paymentId!,\n          orderId: response.orderId!,\n          amount: total,\n        });\n        setShowVerification(true);\n      } else {\n        setStep('error');\n      }\n    } catch (error) {\n      console.error('Digital payment error:', error);\n      setPaymentResponse({\n        success: false,\n        message: 'Payment processing failed',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      });\n      setStep('error');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleQRCodePayment = async () => {\n    setIsProcessing(true);\n    setStep('processing');\n\n    try {\n      const qrData = await generateUPIQRCode(total, customerInfo, cartItems);\n      setQrCodeData(qrData);\n      setStep('qr-code');\n    } catch (error) {\n      console.error('QR Code generation error:', error);\n      setPaymentResponse({\n        success: false,\n        message: 'Failed to generate QR code',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      });\n      setStep('error');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleCODPayment = async () => {\n    setIsProcessing(true);\n    setStep('processing');\n\n    try {\n      const response = await fetch('/api/cod-order', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          amount: total,\n          customerInfo: {\n            ...customerInfo,\n            address: `${customerInfo.address}`\n          },\n          items: cartItems\n        })\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        // Clear cart and close modal\n        clearCart();\n        closeCart();\n        onClose();\n        \n        // Navigate to order success page with order details\n        window.location.href = `/order-success?orderId=${result.order.orderId}&type=cod&amount=${result.order.totalAmount}&delivery=${encodeURIComponent(result.order.estimatedDelivery)}`;\n      } else {\n        throw new Error(result.message || 'Failed to place COD order');\n      }\n    } catch (error) {\n      console.error('COD order error:', error);\n      setPaymentResponse({\n        success: false,\n        message: 'Failed to process COD order',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      });\n      setStep('error');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleVerificationComplete = (success: boolean, data?: any) => {\n    setShowVerification(false);\n    setVerificationData(null);\n    \n    if (success) {\n      // Clear cart and close modal\n      clearCart();\n      closeCart();\n      onClose();\n      \n      // Navigate to order success page\n      window.location.href = `/order-success?orderId=${data?.orderId || 'unknown'}&type=razorpay&amount=${total}&delivery=${encodeURIComponent('7-10 business days')}`;\n    } else {\n      setStep('error');\n      setPaymentResponse({\n        success: false,\n        message: 'Payment verification failed',\n        error: 'Could not verify payment status',\n      });\n    }\n  };\n\n  const handleProceedToPayment = () => {\n    if (validateForm()) {\n      setStep('payment');\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-600 to-amber-600\">\n          <h2 className=\"text-xl font-bold text-white\">\n            {step === 'details' && 'Customer Details'}\n            {step === 'payment' && 'Payment Options'}\n            {step === 'processing' && 'Processing Payment'}\n            {step === 'success' && 'Payment Successful'}\n            {step === 'error' && 'Payment Failed'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-white/20 rounded-full transition-colors duration-200\"\n          >\n            <X className=\"w-6 h-6 text-white\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-80px)]\">\n          {/* Customer Details Step */}\n          {step === 'details' && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h3 className=\"font-medium text-gray-900 mb-3\">Order Summary</h3>\n                <div className=\"space-y-2\">\n                  {cartItems.map((item) => (\n                    <div key={item.id} className=\"flex justify-between text-sm\">\n                      <span>{item.name} × {item.quantity}</span>\n                      <span>{formatPrice(parseInt(item.price.replace(/[^\\d]/g, '')) * item.quantity)}</span>\n                    </div>\n                  ))}\n                  <div className=\"border-t pt-2 flex justify-between font-bold\">\n                    <span>Total:</span>\n                    <span className=\"text-red-600\">{formatPrice(total)}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Full Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customerInfo.name}\n                    onChange={(e) => handleInputChange('name', e.target.value)}\n                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${\n                      errors.name ? 'border-red-500' : 'border-gray-300'\n                    }`}\n                    placeholder=\"Enter your full name\"\n                  />\n                  {errors.name && <p className=\"text-red-500 text-xs mt-1\">{errors.name}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Phone Number *\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={customerInfo.phone}\n                    onChange={(e) => handleInputChange('phone', e.target.value)}\n                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${\n                      errors.phone ? 'border-red-500' : 'border-gray-300'\n                    }`}\n                    placeholder=\"Enter 10-digit phone number\"\n                  />\n                  {errors.phone && <p className=\"text-red-500 text-xs mt-1\">{errors.phone}</p>}\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Email Address *\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={customerInfo.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${\n                      errors.email ? 'border-red-500' : 'border-gray-300'\n                    }`}\n                    placeholder=\"Enter your email address\"\n                  />\n                  {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email}</p>}\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Delivery Address *\n                  </label>\n                  <textarea\n                    value={customerInfo.address}\n                    onChange={(e) => handleInputChange('address', e.target.value)}\n                    rows={3}\n                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${\n                      errors.address ? 'border-red-500' : 'border-gray-300'\n                    }`}\n                    placeholder=\"Enter your complete delivery address\"\n                  />\n                  {errors.address && <p className=\"text-red-500 text-xs mt-1\">{errors.address}</p>}\n                </div>\n              </div>\n\n              <button\n                onClick={handleProceedToPayment}\n                className=\"w-full bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700 text-white font-bold py-3 rounded-lg transition-all duration-200 transform hover:scale-105\"\n              >\n                Proceed to Payment\n              </button>\n            </div>\n          )}\n\n          {/* Payment Options Step */}\n          {step === 'payment' && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h3 className=\"font-medium text-gray-900 mb-2\">Payment Amount</h3>\n                <p className=\"text-2xl font-bold text-red-600\">{formatPrice(total)}</p>\n              </div>\n\n              <div className=\"space-y-4\">\n                <h3 className=\"font-medium text-gray-900\">Choose Payment Method</h3>\n                \n                {/* PhonePe Payment Option */}\n                <button\n                  onClick={() => handleDigitalPayment('phonepe')}\n                  disabled={isProcessing}\n                  className=\"w-full p-4 border-2 border-purple-200 rounded-lg hover:border-purple-400 transition-colors duration-200 group\"\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center\">\n                      <Smartphone className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                      <h4 className=\"font-medium text-gray-900 group-hover:text-purple-600\">PhonePe</h4>\n                      <p className=\"text-sm text-gray-500\">Pay securely with PhonePe UPI</p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Shield className=\"w-5 h-5 text-green-500\" />\n                      <span className=\"text-sm text-green-600 font-medium\">Secure</span>\n                    </div>\n                  </div>\n                </button>\n\n                {/* UPI QR Code Scanner Option */}\n                <button\n                  onClick={handleQRCodePayment}\n                  disabled={isProcessing}\n                  className=\"w-full p-4 border-2 border-blue-200 rounded-lg hover:border-blue-400 transition-colors duration-200 group\"\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center\">\n                      <QrCode className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                      <h4 className=\"font-medium text-gray-900 group-hover:text-blue-600\">UPI QR Code</h4>\n                      <p className=\"text-sm text-gray-500\">Scan QR code with any UPI app</p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Shield className=\"w-5 h-5 text-green-500\" />\n                      <span className=\"text-sm text-green-600 font-medium\">Instant</span>\n                    </div>\n                  </div>\n                </button>\n\n                {/* Google Pay Option */}\n                <button\n                  onClick={() => handleDigitalPayment('googlepay')}\n                  disabled={isProcessing}\n                  className=\"w-full p-4 border-2 border-green-200 rounded-lg hover:border-green-400 transition-colors duration-200 group\"\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center\">\n                      <Smartphone className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                      <h4 className=\"font-medium text-gray-900 group-hover:text-green-600\">Google Pay</h4>\n                      <p className=\"text-sm text-gray-500\">Quick payment with Google Pay</p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Shield className=\"w-5 h-5 text-green-500\" />\n                      <span className=\"text-sm text-green-600 font-medium\">Fast</span>\n                    </div>\n                  </div>\n                </button>\n\n                {/* Cash on Delivery Option */}\n                <button\n                  onClick={handleCODPayment}\n                  disabled={isProcessing}\n                  className=\"w-full p-4 border-2 border-amber-200 rounded-lg hover:border-amber-400 transition-colors duration-200 group\"\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center\">\n                      <Banknote className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                      <h4 className=\"font-medium text-gray-900 group-hover:text-amber-600\">Cash on Delivery</h4>\n                      <p className=\"text-sm text-gray-500\">Pay when your order arrives</p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"w-5 h-5 text-amber-500\" />\n                      <span className=\"text-sm text-amber-600 font-medium\">Convenient</span>\n                    </div>\n                  </div>\n                </button>\n\n                {/* Payment Security Information */}\n                <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                  <div className=\"flex items-start space-x-3\">\n                    <Shield className=\"w-5 h-5 text-blue-600 mt-0.5\" />\n                    <div>\n                      <h4 className=\"font-medium text-blue-900\">Secure Payment</h4>\n                      <p className=\"text-sm text-blue-700\">\n                        All digital payments are protected by bank-grade security. \n                        Your payment information is never stored on our servers.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Additional Payment Info */}\n                <div className=\"grid grid-cols-2 gap-4 text-center\">\n                  <div className=\"p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"text-sm font-medium text-gray-900 mb-1\">Digital Payments</div>\n                    <div className=\"text-xs text-gray-600\">Instant confirmation</div>\n                  </div>\n                  <div className=\"p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"text-sm font-medium text-gray-900 mb-1\">Cash on Delivery</div>\n                    <div className=\"text-xs text-gray-600\">₹50 handling fee</div>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                onClick={() => setStep('details')}\n                className=\"w-full border border-gray-300 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n              >\n                Back to Details\n              </button>\n            </div>\n          )}\n\n          {/* QR Code Payment Step */}\n          {step === 'qr-code' && qrCodeData && (\n            <div className=\"space-y-6\">\n              <div className=\"text-center\">\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Scan QR Code to Pay</h3>\n                <p className=\"text-gray-600 mb-6\">Use any UPI app to scan and pay</p>\n                \n                <div className=\"bg-white p-6 rounded-lg border-2 border-dashed border-gray-300 mb-6\">\n                  <img\n                    src={qrCodeData.qrCodeUrl}\n                    alt=\"UPI QR Code\"\n                    className=\"w-64 h-64 mx-auto mb-4\"\n                  />\n                  <p className=\"text-sm text-gray-500\">Order ID: {qrCodeData.orderId}</p>\n                </div>\n\n                <div className=\"bg-blue-50 rounded-lg p-4 mb-6\">\n                  <h4 className=\"font-medium text-blue-900 mb-2\">How to pay:</h4>\n                  <ol className=\"text-sm text-blue-800 text-left space-y-1\">\n                    <li>1. Open any UPI app (PhonePe, Google Pay, Paytm, etc.)</li>\n                    <li>2. Scan the QR code above</li>\n                    <li>3. Verify the amount: {formatAmount(total)}</li>\n                    <li>4. Complete the payment</li>\n                  </ol>\n                </div>\n\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={() => navigator.clipboard.writeText(`upi://pay?pa=mrugaya@razorpay&pn=Mrugaya Jewelry&am=${total}&cu=INR&tn=Payment for Order ${qrCodeData.orderId}`)}\n                    className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2\"\n                  >\n                    <Copy className=\"w-4 h-4\" />\n                    <span>Copy UPI Link</span>\n                  </button>\n                  \n                  <button\n                    onClick={() => setStep('payment')}\n                    className=\"flex-1 border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n                  >\n                    Back\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Processing Step */}\n          {step === 'processing' && (\n            <div className=\"text-center py-12\">\n              <Loader className=\"w-16 h-16 text-red-600 mx-auto mb-4 animate-spin\" />\n              <h3 className=\"text-xl font-medium text-gray-900 mb-2\">Processing Payment</h3>\n              <p className=\"text-gray-500\">Please wait while we process your payment...</p>\n              <div className=\"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <p className=\"text-sm text-yellow-800\">\n                  Do not close this window or refresh the page during payment processing.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Success Step */}\n          {step === 'success' && (\n            <div className=\"text-center py-12\">\n              <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-medium text-gray-900 mb-2\">Payment Successful!</h3>\n              <p className=\"text-gray-500 mb-6\">\n                Your order has been confirmed and will be processed shortly.\n              </p>\n              \n              {paymentResponse && (\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-6\">\n                  <div className=\"text-sm text-green-800 space-y-1\">\n                    <p><strong>Order ID:</strong> {paymentResponse.orderId}</p>\n                    <p><strong>Payment ID:</strong> {paymentResponse.paymentId}</p>\n                    <p><strong>Amount:</strong> {formatAmount(total)}</p>\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <p className=\"text-sm text-green-800\">\n                  Order confirmation has been sent to {customerInfo.email}\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* COD Success Step */}\n          {step === 'cod-success' && codOrder && (\n            <div className=\"text-center py-12\">\n              <CheckCircle className=\"w-16 h-16 text-amber-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-medium text-gray-900 mb-2\">Order Confirmed!</h3>\n              <p className=\"text-gray-500 mb-6\">\n                Your Cash on Delivery order has been placed successfully.\n              </p>\n              \n              <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6\">\n                <div className=\"text-sm text-amber-800 space-y-2\">\n                  <p><strong>Order ID:</strong> {codOrder.orderId}</p>\n                  <p><strong>Product Amount:</strong> {formatAmount(codOrder.amount)}</p>\n                  <p><strong>COD Handling Fee:</strong> {formatAmount(codOrder.handlingFee)}</p>\n                  <p><strong>Total Amount:</strong> {formatAmount(codOrder.totalAmount)}</p>\n                  <p><strong>Estimated Delivery:</strong> {codOrder.estimatedDelivery}</p>\n                </div>\n              </div>\n              \n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <p className=\"text-sm text-blue-800\">\n                  You will pay {formatAmount(codOrder.totalAmount)} when your order is delivered.\n                  Order confirmation has been sent to {customerInfo.email}\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Error Step */}\n          {step === 'error' && (\n            <div className=\"text-center py-12\">\n              <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-medium text-gray-900 mb-2\">Payment Failed</h3>\n              <p className=\"text-gray-500 mb-4\">\n                {paymentResponse?.message || 'There was an issue processing your payment.'}\n              </p>\n              \n              {paymentResponse?.error && (\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n                  <p className=\"text-sm text-red-800\">\n                    Error: {paymentResponse.error}\n                  </p>\n                </div>\n              )}\n              \n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => setStep('payment')}\n                  className=\"w-full bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700 text-white font-bold py-3 rounded-lg transition-all duration-200\"\n                >\n                  Try Again\n                </button>\n                <button\n                  onClick={onClose}\n                  className=\"w-full border border-gray-300 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Payment Verification Modal */}\n      {showVerification && verificationData && (\n        <PaymentVerification\n          paymentId={verificationData.paymentId}\n          orderId={verificationData.orderId}\n          amount={verificationData.amount}\n          onVerificationComplete={handleVerificationComplete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PaymentModal;","size_bytes":26736},"client/src/components/PaymentSuccess.tsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { CheckCircle, Download, ArrowLeft, Package } from 'lucide-react';\nimport { getOrderDetails, formatAmount } from '../services/razorpayService';\nimport { OrderData } from '../types/payment';\n\nconst PaymentSuccess: React.FC = () => {\n  const [orderData, setOrderData] = useState<OrderData | null>(null);\n  const [isVerifying, setIsVerifying] = useState(true);\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const orderId = urlParams.get('orderId');\n    \n    if (orderId) {\n      loadOrderDetails(orderId);\n    }\n  }, []);\n\n  const loadOrderDetails = async (orderId: string) => {\n    try {\n      const order = getOrderDetails(orderId);\n      setOrderData(order);\n    } catch (error) {\n      console.error('Order loading failed:', error);\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  const downloadReceipt = () => {\n    // Generate and download receipt\n    if (!orderData) return;\n    \n    const dataStr = JSON.stringify(orderData, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `receipt-${orderData.orderId}.json`;\n    link.click();\n  };\n\n  if (isVerifying) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Verifying payment...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-2xl mx-auto px-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\n          {/* Success Header */}\n          <div className=\"bg-gradient-to-r from-green-500 to-green-600 px-8 py-12 text-center\">\n            <CheckCircle className=\"w-20 h-20 text-white mx-auto mb-4\" />\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Payment Successful!</h1>\n            <p className=\"text-green-100\">Your order has been confirmed and is being processed</p>\n          </div>\n\n          {/* Payment Details */}\n          <div className=\"px-8 py-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n              <div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Order ID</h3>\n                <p className=\"text-gray-600 font-mono text-sm\">\n                  {orderData?.orderId || 'ORD123456789'}\n                </p>\n              </div>\n              <div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Amount Paid</h3>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  {orderData ? formatAmount(orderData.amount) : '₹0'}\n                </p>\n              </div>\n              <div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Payment Method</h3>\n                <p className=\"text-gray-600\">\n                  {orderData?.paymentMethod === 'razorpay' ? 'Razorpay (UPI/Card)' : 'Cash on Delivery'}\n                </p>\n              </div>\n              <div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Date & Time</h3>\n                <p className=\"text-gray-600\">\n                  Order confirmation has been sent to {orderData?.customerInfo.email || 'your email'}\n                </p>\n              </div>\n            </div>\n\n            {/* Next Steps */}\n            <div className=\"bg-blue-50 rounded-lg p-6 mb-8\">\n              <div className=\"flex items-start space-x-3\">\n                <Package className=\"w-6 h-6 text-blue-600 mt-1\" />\n                <div>\n                  <h3 className=\"font-medium text-blue-900 mb-2\">What happens next?</h3>\n                  <ul className=\"text-sm text-blue-800 space-y-1\">\n                    <li>• Order confirmation email sent to your registered email</li>\n                    <li>• Your jewelry will be carefully packaged within 2-3 business days</li>\n                    <li>• You'll receive tracking information once shipped</li>\n                    <li>• Expected delivery: 5-7 business days</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <button\n                onClick={downloadReceipt}\n                className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2\"\n              >\n                <Download className=\"w-5 h-5\" />\n                <span>Download Receipt</span>\n              </button>\n              \n              <button\n                onClick={() => window.location.href = '/'}\n                className=\"flex-1 bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2\"\n              >\n                <ArrowLeft className=\"w-5 h-5\" />\n                <span>Continue Shopping</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Support Information */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-gray-600 mb-2\">Need help with your order?</p>\n          <p className=\"text-sm text-gray-500\">\n            Contact us at <a href=\"mailto:support@mrugaya.com\" className=\"text-red-600 hover:underline\">support@mrugaya.com</a> or call +91-900-000-0000\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentSuccess;","size_bytes":5837},"client/src/components/PaymentVerification.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { CheckCircle, AlertCircle, Loader, RefreshCw } from 'lucide-react';\nimport { checkPaymentStatus, formatAmount } from '../services/razorpayService';\n\ninterface PaymentVerificationProps {\n  paymentId: string;\n  orderId: string;\n  amount: number;\n  onVerificationComplete: (success: boolean, data?: any) => void;\n}\n\nconst PaymentVerification: React.FC<PaymentVerificationProps> = ({\n  paymentId,\n  orderId,\n  amount,\n  onVerificationComplete,\n}) => {\n  const [status, setStatus] = useState<'checking' | 'success' | 'failed' | 'pending'>('checking');\n  const [paymentData, setPaymentData] = useState<any>(null);\n  const [retryCount, setRetryCount] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n\n  const maxRetries = 5;\n  const retryInterval = 3000; // 3 seconds\n\n  useEffect(() => {\n    verifyPayment();\n  }, [paymentId]);\n\n  const verifyPayment = async () => {\n    try {\n      setStatus('checking');\n      setError(null);\n\n      const result = await checkPaymentStatus(paymentId);\n      \n      if (result.success && result.payment) {\n        const payment = result.payment;\n        setPaymentData(payment);\n\n        switch (payment.status) {\n          case 'captured':\n          case 'authorized':\n            setStatus('success');\n            onVerificationComplete(true, payment);\n            break;\n          case 'failed':\n            setStatus('failed');\n            setError('Payment failed');\n            onVerificationComplete(false, payment);\n            break;\n          case 'created':\n          default:\n            if (retryCount < maxRetries) {\n              setStatus('pending');\n              setTimeout(() => {\n                setRetryCount(prev => prev + 1);\n                verifyPayment();\n              }, retryInterval);\n            } else {\n              setStatus('failed');\n              setError('Payment verification timeout');\n              onVerificationComplete(false, null);\n            }\n            break;\n        }\n      } else {\n        throw new Error(result.message || 'Failed to verify payment');\n      }\n    } catch (error) {\n      console.error('Payment verification error:', error);\n      setError(error instanceof Error ? error.message : 'Verification failed');\n      \n      if (retryCount < maxRetries) {\n        setTimeout(() => {\n          setRetryCount(prev => prev + 1);\n          verifyPayment();\n        }, retryInterval);\n      } else {\n        setStatus('failed');\n        onVerificationComplete(false, null);\n      }\n    }\n  };\n\n  const handleRetry = () => {\n    setRetryCount(0);\n    verifyPayment();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-[80] flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8\">\n        <div className=\"text-center\">\n          {status === 'checking' && (\n            <>\n              <Loader className=\"w-16 h-16 text-blue-600 mx-auto mb-4 animate-spin\" />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Verifying Payment</h3>\n              <p className=\"text-gray-600 mb-4\">\n                Please wait while we confirm your payment...\n              </p>\n              <div className=\"bg-blue-50 rounded-lg p-4\">\n                <p className=\"text-sm text-blue-800\">\n                  Attempt {retryCount + 1} of {maxRetries + 1}\n                </p>\n                <div className=\"w-full bg-blue-200 rounded-full h-2 mt-2\">\n                  <div \n                    className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                    style={{ width: `${((retryCount + 1) / (maxRetries + 1)) * 100}%` }}\n                  />\n                </div>\n              </div>\n            </>\n          )}\n\n          {status === 'pending' && (\n            <>\n              <div className=\"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <RefreshCw className=\"w-8 h-8 text-yellow-600 animate-spin\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Payment Pending</h3>\n              <p className=\"text-gray-600 mb-4\">\n                Your payment is being processed. We'll check again in a moment...\n              </p>\n              <div className=\"bg-yellow-50 rounded-lg p-4\">\n                <p className=\"text-sm text-yellow-800\">\n                  Checking payment status... ({retryCount + 1}/{maxRetries + 1})\n                </p>\n              </div>\n            </>\n          )}\n\n          {status === 'success' && (\n            <>\n              <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Payment Verified!</h3>\n              <p className=\"text-gray-600 mb-4\">\n                Your payment has been successfully processed.\n              </p>\n              {paymentData && (\n                <div className=\"bg-green-50 rounded-lg p-4 mb-4\">\n                  <div className=\"text-sm text-green-800 space-y-1\">\n                    <p><strong>Payment ID:</strong> {paymentData.id}</p>\n                    <p><strong>Amount:</strong> {formatAmount(paymentData.amount / 100)}</p>\n                    <p><strong>Method:</strong> {paymentData.method?.toUpperCase()}</p>\n                    <p><strong>Status:</strong> {paymentData.status?.toUpperCase()}</p>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {status === 'failed' && (\n            <>\n              <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Verification Failed</h3>\n              <p className=\"text-gray-600 mb-4\">\n                {error || 'We could not verify your payment. Please try again.'}\n              </p>\n              <div className=\"bg-red-50 rounded-lg p-4 mb-4\">\n                <p className=\"text-sm text-red-800\">\n                  If you believe this is an error, please contact our support team with your payment details.\n                </p>\n              </div>\n              <button\n                onClick={handleRetry}\n                className=\"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition-colors duration-200 mb-2\"\n              >\n                Retry Verification\n              </button>\n              <button\n                onClick={() => onVerificationComplete(false, null)}\n                className=\"w-full border border-gray-300 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n              >\n                Cancel\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentVerification;","size_bytes":6851},"client/src/components/ProductCard.tsx":{"content":"import React, { useState } from 'react';\nimport { Star, Heart, ShoppingCart, Zap } from 'lucide-react';\nimport { useAuthContext } from '../context/AuthContext';\nimport { useCart } from '../context/CartContext';\nimport { useLocation } from 'wouter';\nimport FavoriteButton from './FavoriteButton';\n\ninterface ProductCardProps {\n  product: {\n    id: number;\n    name: string;\n    price: string;\n    originalPrice: string;\n    image: string;\n    rating: number;\n    reviews: number;\n    category: string;\n    description?: string;\n  };\n  onQuickView?: (product: any) => void;\n  className?: string;\n}\n\nconst ProductCard: React.FC<ProductCardProps> = ({ product, onQuickView, className = '' }) => {\n  const { isAuthenticated } = useAuthContext();\n  const { addItem, toggleCart } = useCart();\n  const [, setLocation] = useLocation();\n  const [isHovered, setIsHovered] = useState(false);\n  const [addingToCart, setAddingToCart] = useState(false);\n  const [buyingNow, setBuyingNow] = useState(false);\n\n  const formatPrice = (price: string) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n    }).format(parseInt(price.replace(/[^\\d]/g, '')));\n  };\n\n  // Use Most Loved Creations gradient theme for all cards\n  const themeColors = {\n    buyNow: 'bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700',\n    addToCart: 'border-red-600 text-red-600 hover:bg-red-600',\n    hoverEffect: 'hover:shadow-red-500/30 hover:shadow-xl'\n  };\n\n  const handleAuthRequired = (action: 'buy' | 'cart') => {\n    if (!isAuthenticated) {\n      // Store the intended action and redirect to login\n      sessionStorage.setItem('authRedirectPath', '/');\n      sessionStorage.setItem('pendingAction', action);\n      sessionStorage.setItem('pendingProduct', JSON.stringify(product));\n      setLocation('/login');\n      return false;\n    }\n    return true;\n  };\n\n  const handleAddToCart = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (!handleAuthRequired('cart')) return;\n    \n    setAddingToCart(true);\n    \n    try {\n      // Add item to cart\n      addItem({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        originalPrice: product.originalPrice,\n        image: product.image,\n        category: product.category,\n        rating: product.rating,\n        reviews: product.reviews,\n      });\n      \n      // Show success animation\n      await new Promise(resolve => setTimeout(resolve, 500));\n      \n      // Auto-open cart drawer\n      setTimeout(() => {\n        toggleCart();\n      }, 600);\n    } finally {\n      setAddingToCart(false);\n    }\n  };\n\n  const handleBuyNow = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (!handleAuthRequired('buy')) return;\n    \n    setBuyingNow(true);\n    \n    try {\n      // Add item to cart\n      addItem({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        originalPrice: product.originalPrice,\n        image: product.image,\n        category: product.category,\n        rating: product.rating,\n        reviews: product.reviews,\n      });\n      \n      // Show loading animation\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      // Open cart for immediate checkout\n      toggleCart();\n    } finally {\n      setBuyingNow(false);\n    }\n  };\n\n  return (\n    <div \n      className={`group relative bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 hover:rotate-1 overflow-hidden ${themeColors.hoverEffect} ${className}`}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      data-testid={`card-product-${product.id}`}\n    >\n      {/* Product Image Container */}\n      <div className=\"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100\">\n        <img\n          src={product.image}\n          alt={product.name}\n          className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n          data-testid={`img-product-${product.id}`}\n        />\n        \n        {/* Light overlay on Hover */}\n        <div className={`absolute inset-0 bg-black transition-opacity duration-300 ${isHovered ? 'opacity-10' : 'opacity-0'}`} />\n        \n        {/* Description Overlay - Hidden by default, shown on hover */}\n        {product.description && (\n          <div className={`absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end p-6 transition-opacity duration-300 ${isHovered ? 'opacity-100' : 'opacity-0'}`}>\n            <p className=\"text-white text-sm leading-relaxed\">\n              {product.description}\n            </p>\n          </div>\n        )}\n\n        {/* Favorite Button */}\n        <div className=\"absolute top-4 left-4\">\n          <FavoriteButton\n            item={{\n              id: product.id,\n              name: product.name,\n              price: product.price,\n              originalPrice: product.originalPrice,\n              image: product.image,\n              category: product.category,\n              rating: product.rating,\n              reviews: product.reviews,\n            }}\n          />\n        </div>\n\n        {/* Category Badge */}\n        <div className=\"absolute bottom-4 left-4\">\n          <span className=\"bg-red-600/90 backdrop-blur-sm text-white text-xs font-medium px-3 py-1 rounded-full\">\n            {product.category}\n          </span>\n        </div>\n      </div>\n\n      {/* Product Info */}\n      <div className=\"p-6\">\n        {/* Rating */}\n        <div className=\"flex items-center mb-3\">\n          <div className=\"flex items-center text-amber-400 mr-2\">\n            {[...Array(5)].map((_, i) => (\n              <Star \n                key={i} \n                className={`w-4 h-4 ${i < Math.floor(product.rating) ? 'fill-current' : 'text-gray-300'}`} \n              />\n            ))}\n          </div>\n          <span className=\"text-sm text-gray-600\" data-testid={`text-rating-${product.id}`}>\n            {product.rating} ({product.reviews})\n          </span>\n        </div>\n\n        {/* Product Name */}\n        <h3 \n          className=\"font-serif font-bold text-gray-900 mb-3 text-lg group-hover:text-red-800 transition-colors line-clamp-2\"\n          data-testid={`text-name-${product.id}`}\n        >\n          {product.name}\n        </h3>\n\n        {/* Price */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-2\">\n            <span \n              className=\"text-2xl font-bold text-red-600\"\n              data-testid={`text-price-${product.id}`}\n            >\n              {formatPrice(product.price)}\n            </span>\n            {product.originalPrice !== product.price && (\n              <span \n                className=\"text-sm text-gray-400 line-through\"\n                data-testid={`text-original-price-${product.id}`}\n              >\n                {formatPrice(product.originalPrice)}\n              </span>\n            )}\n          </div>\n          \n          {/* Discount Badge */}\n          {product.originalPrice !== product.price && (\n            <div className=\"bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded-full\">\n              SAVE {Math.round((1 - parseInt(product.price.replace(/[^\\d]/g, '')) / parseInt(product.originalPrice.replace(/[^\\d]/g, ''))) * 100)}%\n            </div>\n          )}\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex space-x-3\">\n          {/* Buy Now Button */}\n          <button\n            onClick={handleBuyNow}\n            disabled={buyingNow}\n            className={`flex-1 ${themeColors.buyNow} text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2`}\n            data-testid={`button-buy-now-${product.id}`}\n          >\n            {buyingNow ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                <span>Processing...</span>\n              </>\n            ) : (\n              <>\n                <Zap className=\"w-4 h-4\" />\n                <span>Buy Now</span>\n              </>\n            )}\n          </button>\n\n          {/* Add to Cart Button */}\n          <button\n            onClick={handleAddToCart}\n            disabled={addingToCart}\n            className={`flex-1 bg-white border-2 ${themeColors.addToCart} hover:text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2`}\n            data-testid={`button-add-cart-${product.id}`}\n          >\n            {addingToCart ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-current\"></div>\n                <span>Adding...</span>\n              </>\n            ) : (\n              <>\n                <ShoppingCart className=\"w-4 h-4\" />\n                <span>Add to Cart</span>\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;","size_bytes":9444},"client/src/components/ProductModal.tsx":{"content":"import React, { useState } from 'react';\nimport { X, Star, Heart, Share2, Truck, Shield, RotateCcw, Award, Eye, EyeOff } from 'lucide-react';\nimport { Product } from '../types/product';\nimport AddToCartButton from './AddToCartButton';\nimport FavoriteButton from './FavoriteButton';\n\ninterface ProductModalProps {\n  product: Product;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst ProductModal: React.FC<ProductModalProps> = ({ product, isOpen, onClose }) => {\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [viewMode, setViewMode] = useState<'product' | 'model'>('product');\n  const [activeTab, setActiveTab] = useState<'description' | 'specifications' | 'reviews'>('description');\n\n  const formatPrice = (price: string) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n    }).format(parseInt(price.replace(/[^\\d]/g, '')));\n  };\n\n  const currentImage = viewMode === 'model' && product.modelImage \n    ? product.modelImage \n    : product.images[selectedImageIndex];\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-[70] flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-serif font-bold text-gray-900\">{product.name}</h2>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\">\n              <FavoriteButton\n                item={{\n                  id: product.id,\n                  name: product.name,\n                  price: product.price,\n                  originalPrice: product.originalPrice,\n                  image: product.image,\n                  category: product.category,\n                  rating: product.rating,\n                  reviews: product.reviews,\n                }}\n                size=\"md\"\n              />\n            </div>\n            <button className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\">\n              <Share2 className=\"w-5 h-5 text-gray-600\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n            >\n              <X className=\"w-6 h-6 text-gray-600\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row overflow-y-auto max-h-[calc(90vh-80px)]\">\n          {/* Image Section */}\n          <div className=\"lg:w-1/2 p-6\">\n            {/* View Mode Toggle */}\n            <div className=\"flex items-center justify-center mb-4 bg-gray-100 rounded-lg p-1\">\n              <button\n                onClick={() => setViewMode('product')}\n                className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${\n                  viewMode === 'product' \n                    ? 'bg-white text-red-600 shadow-sm' \n                    : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                <Eye className=\"w-4 h-4\" />\n                <span>Product View</span>\n              </button>\n              {product.modelImage && (\n                <button\n                  onClick={() => setViewMode('model')}\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${\n                    viewMode === 'model' \n                      ? 'bg-white text-red-600 shadow-sm' \n                      : 'text-gray-600 hover:text-gray-900'\n                  }`}\n                >\n                  <EyeOff className=\"w-4 h-4\" />\n                  <span>View as Model</span>\n                </button>\n              )}\n            </div>\n\n            {/* Main Image */}\n            <div className=\"aspect-square bg-gray-100 rounded-xl overflow-hidden mb-4\">\n              <img\n                src={currentImage}\n                alt={product.name}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n\n            {/* Thumbnail Images */}\n            {viewMode === 'product' && (\n              <div className=\"flex space-x-2 overflow-x-auto\">\n                {product.images.map((image, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setSelectedImageIndex(index)}\n                    className={`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${\n                      selectedImageIndex === index ? 'border-red-600' : 'border-gray-200'\n                    }`}\n                  >\n                    <img\n                      src={image}\n                      alt={`${product.name} ${index + 1}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* Model View Info */}\n            {viewMode === 'model' && product.modelImage && (\n              <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <Eye className=\"w-5 h-5 text-amber-600\" />\n                  <h4 className=\"font-medium text-amber-900\">Model View</h4>\n                </div>\n                <p className=\"text-sm text-amber-800\">\n                  See how this beautiful piece looks when worn. This gives you a better idea of the jewelry's appearance and proportions.\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Product Details Section */}\n          <div className=\"lg:w-1/2 p-6 border-l border-gray-200\">\n            {/* Rating and Reviews */}\n            <div className=\"flex items-center mb-4\">\n              <div className=\"flex items-center text-amber-500 mr-3\">\n                {[...Array(5)].map((_, i) => (\n                  <Star key={i} className={`w-5 h-5 ${i < Math.floor(product.rating) ? 'fill-current' : ''}`} />\n                ))}\n              </div>\n              <span className=\"text-gray-600\">({product.reviews} reviews)</span>\n              <span className=\"ml-2 text-sm text-green-600 font-medium\">\n                {product.inStock ? 'In Stock' : 'Out of Stock'}\n              </span>\n            </div>\n\n            {/* Price */}\n            <div className=\"mb-6\">\n              <div className=\"flex items-center space-x-3 mb-2\">\n                <span className=\"text-3xl font-bold text-red-600\">{formatPrice(product.price)}</span>\n                <span className=\"text-xl text-gray-400 line-through\">{formatPrice(product.originalPrice)}</span>\n                <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium\">\n                  {Math.round((1 - parseInt(product.price.replace(/[^\\d]/g, '')) / parseInt(product.originalPrice.replace(/[^\\d]/g, ''))) * 100)}% OFF\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-600\">Inclusive of all taxes</p>\n            </div>\n\n            {/* Add to Cart */}\n            <div className=\"mb-8\">\n              <AddToCartButton\n                item={{\n                  id: product.id,\n                  name: product.name,\n                  price: product.price,\n                  originalPrice: product.originalPrice,\n                  image: product.image,\n                  category: product.category,\n                  rating: product.rating,\n                  reviews: product.reviews,\n                }}\n                className=\"w-full py-4 text-lg\"\n                disabled={!product.inStock}\n              />\n              \n              <button className=\"w-full mt-3 border-2 border-red-600 text-red-600 hover:bg-red-600 hover:text-white font-bold py-4 rounded-lg transition-all duration-200\">\n                Buy Now\n              </button>\n            </div>\n\n            {/* Features */}\n            <div className=\"grid grid-cols-2 gap-4 mb-8\">\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <Truck className=\"w-4 h-4\" />\n                <span>Free Delivery</span>\n              </div>\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <Shield className=\"w-4 h-4\" />\n                <span>Lifetime Warranty</span>\n              </div>\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <RotateCcw className=\"w-4 h-4\" />\n                <span>Easy Returns</span>\n              </div>\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <Award className=\"w-4 h-4\" />\n                <span>Certified Quality</span>\n              </div>\n            </div>\n\n            {/* Tabs */}\n            <div className=\"border-b border-gray-200 mb-6\">\n              <nav className=\"flex space-x-8\">\n                {['description', 'specifications', 'reviews'].map((tab) => (\n                  <button\n                    key={tab}\n                    onClick={() => setActiveTab(tab as any)}\n                    className={`py-2 px-1 border-b-2 font-medium text-sm capitalize transition-colors ${\n                      activeTab === tab\n                        ? 'border-red-600 text-red-600'\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\n                    }`}\n                  >\n                    {tab}\n                  </button>\n                ))}\n              </nav>\n            </div>\n\n            {/* Tab Content */}\n            <div className=\"space-y-4\">\n              {activeTab === 'description' && (\n                <div>\n                  <p className=\"text-gray-700 leading-relaxed mb-4\">{product.description}</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {product.tags.map((tag) => (\n                      <span\n                        key={tag}\n                        className=\"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm\"\n                      >\n                        #{tag}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {activeTab === 'specifications' && (\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between py-2 border-b border-gray-100\">\n                    <span className=\"font-medium text-gray-900\">Material:</span>\n                    <span className=\"text-gray-700\">{product.specifications.material}</span>\n                  </div>\n                  <div className=\"flex justify-between py-2 border-b border-gray-100\">\n                    <span className=\"font-medium text-gray-900\">Weight:</span>\n                    <span className=\"text-gray-700\">{product.specifications.weight}</span>\n                  </div>\n                  <div className=\"flex justify-between py-2 border-b border-gray-100\">\n                    <span className=\"font-medium text-gray-900\">Dimensions:</span>\n                    <span className=\"text-gray-700\">{product.specifications.dimensions}</span>\n                  </div>\n                  {product.specifications.purity && (\n                    <div className=\"flex justify-between py-2 border-b border-gray-100\">\n                      <span className=\"font-medium text-gray-900\">Purity:</span>\n                      <span className=\"text-gray-700\">{product.specifications.purity}</span>\n                    </div>\n                  )}\n                  {product.specifications.gemstones && (\n                    <div className=\"flex justify-between py-2 border-b border-gray-100\">\n                      <span className=\"font-medium text-gray-900\">Gemstones:</span>\n                      <span className=\"text-gray-700\">{product.specifications.gemstones.join(', ')}</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {activeTab === 'reviews' && (\n                <div>\n                  <div className=\"text-center py-8\">\n                    <Star className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No reviews yet</h3>\n                    <p className=\"text-gray-600\">Be the first to review this product!</p>\n                    <button className=\"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors\">\n                      Write a Review\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductModal;","size_bytes":12893},"client/src/context/AuthContext.tsx":{"content":"import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { Auth0Provider, useAuth0 } from '@auth0/auth0-react';\r\n\r\n// Auth0 configuration - these should be environment variables\r\nconst AUTH0_DOMAIN = import.meta.env.VITE_AUTH0_DOMAIN || 'dev-bfojozlc11jj6nbe.us.auth0.com';\r\nconst AUTH0_CLIENT_ID = import.meta.env.VITE_AUTH0_CLIENT_ID || 'BhUzv1E7UpuChbipIytFqmFTPeStLmGx';\r\n// const AUTH0_AUDIENCE = import.meta.env.VITE_AUTH0_AUDIENCE || 'https://mrugaya-jewelry.us.auth0.com/api/v2/';\r\n\r\ninterface AuthContextType {\r\n  user: any;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  login: () => void;\r\n  logout: () => void;\r\n  loginWithRedirect: (options?: any) => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuthContext = () => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuthContext must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst AuthContextProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const {\r\n    user,\r\n    isAuthenticated,\r\n    isLoading,\r\n    loginWithRedirect,\r\n    logout: auth0Logout,\r\n  } = useAuth0();\r\n\r\n  const login = () => {\r\n    loginWithRedirect({\r\n      authorizationParams: {\r\n        redirect_uri: window.location.origin,\r\n        screen_hint: 'login',\r\n      },\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    auth0Logout({\r\n      logoutParams: {\r\n        returnTo: window.location.origin,\r\n      },\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    isAuthenticated,\r\n    isLoading,\r\n    login,\r\n    logout,\r\n    loginWithRedirect,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  return (\r\n    <Auth0Provider\r\n      domain={AUTH0_DOMAIN}\r\n      clientId={AUTH0_CLIENT_ID}\r\n      authorizationParams={{\r\n        redirect_uri: window.location.origin,\r\n        // audience: AUTH0_AUDIENCE,\r\n        scope: 'openid profile email',\r\n      }}\r\n      useRefreshTokens={true}\r\n      cacheLocation=\"localstorage\"\r\n    >\r\n      <AuthContextProvider>\r\n        {children}\r\n      </AuthContextProvider>\r\n    </Auth0Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;","size_bytes":2360},"client/src/context/CartContext.tsx":{"content":"import React, { createContext, useContext, useReducer, ReactNode } from 'react';\nimport { CartItem, CartState } from '../types/cart';\n\ntype CartAction =\n  | { type: 'ADD_ITEM'; payload: Omit<CartItem, 'quantity'> }\n  | { type: 'REMOVE_ITEM'; payload: number }\n  | { type: 'UPDATE_QUANTITY'; payload: { id: number; quantity: number } }\n  | { type: 'CLEAR_CART' }\n  | { type: 'TOGGLE_CART' }\n  | { type: 'CLOSE_CART' };\n\nconst initialState: CartState = {\n  items: [],\n  total: 0,\n  itemCount: 0,\n  isOpen: false,\n};\n\nconst cartReducer = (state: CartState, action: CartAction): CartState => {\n  switch (action.type) {\n    case 'ADD_ITEM': {\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      \n      let newItems: CartItem[];\n      if (existingItem) {\n        newItems = state.items.map(item =>\n          item.id === action.payload.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n      } else {\n        newItems = [...state.items, { ...action.payload, quantity: 1 }];\n      }\n\n      const total = newItems.reduce((sum, item) => {\n        const price = parseInt(item.price.replace(/[^\\d]/g, ''));\n        return sum + (price * item.quantity);\n      }, 0);\n\n      const itemCount = newItems.reduce((sum, item) => sum + item.quantity, 0);\n\n      return {\n        ...state,\n        items: newItems,\n        total,\n        itemCount,\n      };\n    }\n\n    case 'REMOVE_ITEM': {\n      const newItems = state.items.filter(item => item.id !== action.payload);\n      const total = newItems.reduce((sum, item) => {\n        const price = parseInt(item.price.replace(/[^\\d]/g, ''));\n        return sum + (price * item.quantity);\n      }, 0);\n      const itemCount = newItems.reduce((sum, item) => sum + item.quantity, 0);\n\n      return {\n        ...state,\n        items: newItems,\n        total,\n        itemCount,\n      };\n    }\n\n    case 'UPDATE_QUANTITY': {\n      const newItems = state.items.map(item =>\n        item.id === action.payload.id\n          ? { ...item, quantity: Math.max(0, action.payload.quantity) }\n          : item\n      ).filter(item => item.quantity > 0);\n\n      const total = newItems.reduce((sum, item) => {\n        const price = parseInt(item.price.replace(/[^\\d]/g, ''));\n        return sum + (price * item.quantity);\n      }, 0);\n      const itemCount = newItems.reduce((sum, item) => sum + item.quantity, 0);\n\n      return {\n        ...state,\n        items: newItems,\n        total,\n        itemCount,\n      };\n    }\n\n    case 'CLEAR_CART':\n      return initialState;\n\n    case 'TOGGLE_CART':\n      return {\n        ...state,\n        isOpen: !state.isOpen,\n      };\n\n    case 'CLOSE_CART':\n      return {\n        ...state,\n        isOpen: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\ninterface CartContextType {\n  state: CartState;\n  addItem: (item: Omit<CartItem, 'quantity'>) => void;\n  removeItem: (id: number) => void;\n  updateQuantity: (id: number, quantity: number) => void;\n  clearCart: () => void;\n  toggleCart: () => void;\n  closeCart: () => void;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  const addItem = (item: Omit<CartItem, 'quantity'>) => {\n    dispatch({ type: 'ADD_ITEM', payload: item });\n  };\n\n  const removeItem = (id: number) => {\n    dispatch({ type: 'REMOVE_ITEM', payload: id });\n  };\n\n  const updateQuantity = (id: number, quantity: number) => {\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { id, quantity } });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n\n  const toggleCart = () => {\n    dispatch({ type: 'TOGGLE_CART' });\n  };\n\n  const closeCart = () => {\n    dispatch({ type: 'CLOSE_CART' });\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        state,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        toggleCart,\n        closeCart,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};","size_bytes":4307},"client/src/context/FavoritesContext.tsx":{"content":"import React, { createContext, useContext, useReducer, ReactNode, useEffect } from 'react';\nimport { FavoriteItem, FavoritesState } from '../types/favorites';\n\ntype FavoritesAction =\n  | { type: 'ADD_FAVORITE'; payload: Omit<FavoriteItem, 'dateAdded'> }\n  | { type: 'REMOVE_FAVORITE'; payload: number }\n  | { type: 'TOGGLE_FAVORITES' }\n  | { type: 'CLOSE_FAVORITES' }\n  | { type: 'LOAD_FAVORITES'; payload: FavoriteItem[] };\n\nconst initialState: FavoritesState = {\n  items: [],\n  count: 0,\n  isOpen: false,\n};\n\nconst favoritesReducer = (state: FavoritesState, action: FavoritesAction): FavoritesState => {\n  switch (action.type) {\n    case 'ADD_FAVORITE': {\n      const newItem: FavoriteItem = {\n        ...action.payload,\n        dateAdded: new Date().toISOString(),\n      };\n      \n      const newItems = [...state.items, newItem];\n      \n      // Save to localStorage\n      localStorage.setItem('mrugaya_favorites', JSON.stringify(newItems));\n      \n      return {\n        ...state,\n        items: newItems,\n        count: newItems.length,\n      };\n    }\n\n    case 'REMOVE_FAVORITE': {\n      const newItems = state.items.filter(item => item.id !== action.payload);\n      \n      // Save to localStorage\n      localStorage.setItem('mrugaya_favorites', JSON.stringify(newItems));\n      \n      return {\n        ...state,\n        items: newItems,\n        count: newItems.length,\n      };\n    }\n\n    case 'TOGGLE_FAVORITES':\n      return {\n        ...state,\n        isOpen: !state.isOpen,\n      };\n\n    case 'CLOSE_FAVORITES':\n      return {\n        ...state,\n        isOpen: false,\n      };\n\n    case 'LOAD_FAVORITES':\n      return {\n        ...state,\n        items: action.payload,\n        count: action.payload.length,\n      };\n\n    default:\n      return state;\n  }\n};\n\ninterface FavoritesContextType {\n  state: FavoritesState;\n  addFavorite: (item: Omit<FavoriteItem, 'dateAdded'>) => void;\n  removeFavorite: (id: number) => void;\n  toggleFavorites: () => void;\n  closeFavorites: () => void;\n  isFavorite: (id: number) => boolean;\n}\n\nconst FavoritesContext = createContext<FavoritesContextType | undefined>(undefined);\n\nexport const FavoritesProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(favoritesReducer, initialState);\n\n  // Load favorites from localStorage on mount\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('mrugaya_favorites');\n    if (savedFavorites) {\n      try {\n        const favorites = JSON.parse(savedFavorites);\n        dispatch({ type: 'LOAD_FAVORITES', payload: favorites });\n      } catch (error) {\n        console.error('Error loading favorites from localStorage:', error);\n      }\n    }\n  }, []);\n\n  const addFavorite = (item: Omit<FavoriteItem, 'dateAdded'>) => {\n    dispatch({ type: 'ADD_FAVORITE', payload: item });\n  };\n\n  const removeFavorite = (id: number) => {\n    dispatch({ type: 'REMOVE_FAVORITE', payload: id });\n  };\n\n  const toggleFavorites = () => {\n    dispatch({ type: 'TOGGLE_FAVORITES' });\n  };\n\n  const closeFavorites = () => {\n    dispatch({ type: 'CLOSE_FAVORITES' });\n  };\n\n  const isFavorite = (id: number) => {\n    return state.items.some(item => item.id === id);\n  };\n\n  return (\n    <FavoritesContext.Provider\n      value={{\n        state,\n        addFavorite,\n        removeFavorite,\n        toggleFavorites,\n        closeFavorites,\n        isFavorite,\n      }}\n    >\n      {children}\n    </FavoritesContext.Provider>\n  );\n};\n\nexport const useFavorites = () => {\n  const context = useContext(FavoritesContext);\n  if (context === undefined) {\n    throw new Error('useFavorites must be used within a FavoritesProvider');\n  }\n  return context;\n};","size_bytes":3675},"client/src/data/products.ts":{"content":"import { Product, Category } from '../types/product';\n\nexport const categories: Category[] = [\n  {\n    id: 'all-jewellery',\n    name: 'All Jewellery',\n    description: 'Complete collection of traditional Maharashtrian jewelry',\n    image: '/hero1.jpg',\n    subcategories: [\n      { id: 'thushi', name: 'Thushi', description: 'Traditional Maharashtrian necklaces', image: '/thushi1.jpg' },\n      { id: 'earrings', name: 'Earrings', description: 'Elegant traditional earrings', image: '/earring2.jpg' },\n      { id: 'nath', name: 'Nath', description: 'Beautiful traditional Nath', image: '/nath.jfif' },\n      { id: 'mangalsutra', name: 'Mangalsutra', description: 'Exquisite traditional rings', image: '/mangalsutra1.png' },\n      { id: 'oxide', name: 'Oxide', description: 'Graceful traditional anklets', image: '/oearring1.webp' },\n      { id: 'bang', name: 'bangles', description: 'Traditional Bangles', image: '/bangle1.png' }\n    ]\n  },\n  {\n    id: 'mangalsutra',\n    name: 'Mangalsutra',\n    description: 'Sacred marriage jewelry with traditional significance',\n    image: '/man1.jfif',\n    subcategories: [\n      { id: 'diamond-mangalsutra', name: 'Diamond', description: 'Diamond studded mangalsutras', image: '/man4.jfif' },\n      { id: 'daily-wear', name: 'Daily Wear', description: 'Comfortable everyday mangalsutras', image: '/mangalsutra1.png' },\n      { id: 'gold-polish', name: 'Gold Polish', description: 'Traditional gold polished designs', image: '/man1.jfif' }\n    ]\n  },\n  {\n    id: 'nath',\n    name: 'Nath',\n    description: 'Traditional Maharashtrian nose jewelry',\n    image: '/nath.jfif',\n    subcategories: [\n      { id: 'gold-nath', name: 'Gold', description: 'Pure gold nath designs', image: '/nath7.jfif' },\n      { id: 'moti-nath', name: 'Moti', description: 'Pearl studded nath', image: '/nath.jfif' },\n     \n    ]\n  },\n  {\n    id: 'oxide',\n    name: 'Oxide',\n    description: 'Oxidized silver jewelry with antique finish',\n    image: '/nath5.jfif',\n    subcategories: [\n      { id: 'oxide-bangles', name: 'Bangles', description: 'Oxidized silver bangles', image: '/bangle3.webp' },\n      { id: 'oxide-thushi', name: 'Thushi', description: 'Oxidized silver thushi sets', image: '/thushi2.jpg' },\n      { id: 'oxide-nath-sub', name: 'Nath', description: 'Oxidized silver nath', image: '/nath5.jfif' }\n    ]\n  }\n];\n\nexport const products: Product[] = [\n  {\n    id: 1,\n    name: 'Royal Thushi Set',\n    price: '₹1',\n    originalPrice: '₹52,999',\n    image: '/thushi1.jpg',\n    modelImage: '/thushi1.jpg',\n    category: 'all-jewellery',\n    subcategory: 'thushi',\n    rating: 4.8,\n    reviews: 124,\n    description: 'Exquisite traditional Maharashtrian Thushi set crafted with gold and adorned with precious pearls. This masterpiece represents the rich cultural heritage of Maharashtra and is perfect for weddings and special occasions.',\n    specifications: {\n      material: 'Gold Polish',\n      weight: '45 grams',\n      dimensions: '18 inches length',\n      purity: '100%',\n     \n    },\n    images: [\n      '/thushi1.jpg',\n      '/thushi2.jpg',\n      '/thushi1.jpg'\n    ],\n    inStock: true,\n    featured: true,\n    tags: ['traditional', 'wedding', 'gold', 'pearls', 'maharashtrian']\n  },\n  {\n    id: 2,\n    name: 'Oxide Thushi',\n    price: '₹1',\n    originalPrice: '₹99,999',\n    image: '/thushi2.jpg',\n    modelImage: '/thushi2.jpg',\n    category: 'all-jewellery',\n    subcategory: 'thushi',\n    rating: 4.9,\n    reviews: 89,\n    description: 'A regal necklace fit for a queen, featuring intricate oxide work and precious gemstones. This piece embodies the grandeur of Maratha royalty.',\n    specifications: {\n      material: 'Oxide',\n      weight: '65 grams',\n      dimensions: '20 inches length',\n      purity: '100%',\n      \n    },\n    images: [\n      '/thushi2.jpg',\n      '/thushi2.jpg',\n      '/thushi1.jpg'\n    ],\n    inStock: true,\n    featured: true,\n    tags: ['premium', 'royal', 'gold', 'gemstones', 'necklace']\n  },\n  \n  \n  {\n    id: 5,\n    name: 'Diamond Mangalsutra',\n    price: '₹1',\n    originalPrice: '₹145,999',\n    image: '/man4.jfif',\n    modelImage: '/man4.jfif',\n    category: 'mangalsutra',\n    subcategory: 'diamond-mangalsutra',\n    rating: 4.9,\n    reviews: 203,\n    description: 'Elegant diamond mangalsutra combining traditional significance with modern aesthetics. Perfect for the contemporary bride.',\n    specifications: {\n      material: 'Ameriacan Diamond',\n      weight: '25 grams',\n      dimensions: '18 inches length',\n      purity: '100%',\n      \n    },\n    images: [\n      '/man1.jfif',\n      '/mangalsutra3.jpg'\n    ],\n    inStock: true,\n    featured: true,\n    tags: ['mangalsutra', 'diamond', 'modern', 'bridal', 'gold']\n  },\n \n];\n\nexport const getProductsByCategory = (categoryId: string, subcategoryId?: string): Product[] => {\n  return products.filter(product => {\n    if (subcategoryId) {\n      return product.category === categoryId && product.subcategory === subcategoryId;\n    }\n    return product.category === categoryId;\n  });\n};\n\nexport const getProductById = (id: number): Product | undefined => {\n  return products.find(product => product.id === id);\n};\n\nexport const getFeaturedProducts = (): Product[] => {\n  return products.filter(product => product.featured);\n};","size_bytes":5263},"client/src/services/phonePeService.ts":{"content":"import { PaymentDetails, PhonePeResponse } from '../types/cart';\n\n// PhonePe API Configuration\nconst PHONEPE_CONFIG = {\n  merchantId: process.env.VITE_PHONEPE_MERCHANT_ID || 'M1234567890',\n  saltKey: process.env.VITE_PHONEPE_SALT_KEY || 'your-salt-key',\n  saltIndex: process.env.VITE_PHONEPE_SALT_INDEX || '1',\n  apiEndpoint: process.env.VITE_PHONEPE_API_ENDPOINT || 'https://api-preprod.phonepe.com/apis/pg-sandbox',\n  redirectUrl: `${window.location.origin}/payment-success`,\n  callbackUrl: `${window.location.origin}/api/payment-callback`,\n};\n\n/**\n * Generate PhonePe payment request\n */\nexport const initiatePhonePePayment = async (paymentDetails: PaymentDetails): Promise<PhonePeResponse> => {\n  try {\n    const { amount, orderId, customerInfo } = paymentDetails;\n\n    // Create payment payload\n    const paymentPayload = {\n      merchantId: PHONEPE_CONFIG.merchantId,\n      merchantTransactionId: orderId,\n      merchantUserId: `USER_${Date.now()}`,\n      amount: amount * 100, // Convert to paise\n      redirectUrl: PHONEPE_CONFIG.redirectUrl,\n      redirectMode: 'POST',\n      callbackUrl: PHONEPE_CONFIG.callbackUrl,\n      mobileNumber: customerInfo.phone,\n      paymentInstrument: {\n        type: 'PAY_PAGE'\n      }\n    };\n\n    // Encode payload to base64\n    const base64Payload = btoa(JSON.stringify(paymentPayload));\n    \n    // Generate checksum (In production, this should be done on the server)\n    const checksum = await generateChecksum(base64Payload);\n\n    // Make API call to PhonePe\n    const response = await fetch(`${PHONEPE_CONFIG.apiEndpoint}/pg/v1/pay`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-VERIFY': checksum,\n      },\n      body: JSON.stringify({\n        request: base64Payload\n      })\n    });\n\n    const result = await response.json();\n\n    if (result.success) {\n      // Redirect to PhonePe payment page\n      window.location.href = result.data.instrumentResponse.redirectInfo.url;\n      \n      return {\n        success: true,\n        code: result.code,\n        message: result.message,\n        data: result.data\n      };\n    } else {\n      throw new Error(result.message || 'Payment initiation failed');\n    }\n\n  } catch (error) {\n    console.error('PhonePe payment error:', error);\n    return {\n      success: false,\n      code: 'PAYMENT_ERROR',\n      message: error instanceof Error ? error.message : 'Payment failed'\n    };\n  }\n};\n\n/**\n * Verify payment status\n */\nexport const verifyPaymentStatus = async (merchantTransactionId: string): Promise<PhonePeResponse> => {\n  try {\n    const checksum = await generateChecksum(`/pg/v1/status/${PHONEPE_CONFIG.merchantId}/${merchantTransactionId}`);\n\n    const response = await fetch(\n      `${PHONEPE_CONFIG.apiEndpoint}/pg/v1/status/${PHONEPE_CONFIG.merchantId}/${merchantTransactionId}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-VERIFY': checksum,\n          'X-MERCHANT-ID': PHONEPE_CONFIG.merchantId,\n        }\n      }\n    );\n\n    const result = await response.json();\n    return result;\n\n  } catch (error) {\n    console.error('Payment verification error:', error);\n    return {\n      success: false,\n      code: 'VERIFICATION_ERROR',\n      message: 'Payment verification failed'\n    };\n  }\n};\n\n/**\n * Generate checksum for PhonePe API\n * Note: In production, this should be done on your backend server for security\n */\nconst generateChecksum = async (payload: string): Promise<string> => {\n  // This is a simplified checksum generation for demo purposes\n  // In production, use proper HMAC-SHA256 with your salt key on the backend\n  const data = payload + '/pg/v1/pay' + PHONEPE_CONFIG.saltKey;\n  \n  // For demo purposes, we'll use a simple hash\n  // In production, implement proper HMAC-SHA256\n  const encoder = new TextEncoder();\n  const dataBuffer = encoder.encode(data);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  \n  return `${hashHex}###${PHONEPE_CONFIG.saltIndex}`;\n};\n\n/**\n * Handle payment callback\n */\nexport const handlePaymentCallback = (callbackData: any): PhonePeResponse => {\n  try {\n    // Process the callback data from PhonePe\n    const { code, merchantId, transactionId, amount, providerReferenceId } = callbackData;\n\n    if (code === 'PAYMENT_SUCCESS') {\n      return {\n        success: true,\n        code: 'PAYMENT_SUCCESS',\n        message: 'Payment completed successfully',\n        data: {\n          merchantId,\n          merchantTransactionId: transactionId,\n          transactionId: providerReferenceId,\n          amount,\n          state: 'COMPLETED',\n          responseCode: 'SUCCESS',\n          paymentInstrument: {\n            type: 'UPI',\n            utr: providerReferenceId\n          }\n        }\n      };\n    } else {\n      return {\n        success: false,\n        code: 'PAYMENT_FAILED',\n        message: 'Payment was not successful'\n      };\n    }\n\n  } catch (error) {\n    return {\n      success: false,\n      code: 'CALLBACK_ERROR',\n      message: 'Error processing payment callback'\n    };\n  }\n};\n\n/**\n * Format amount for display\n */\nexport const formatAmount = (amount: number): string => {\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    minimumFractionDigits: 0,\n  }).format(amount);\n};","size_bytes":5446},"client/src/services/razorpayService.ts":{"content":"import { PaymentOptions, RazorpayPayment, PaymentResponse, OrderData, CODOrder } from '../types/payment';\nimport { CartItem } from '../types/cart';\n\n// Razorpay Configuration\nconst RAZORPAY_CONFIG = {\n  keyId: import.meta.env.VITE_RAZORPAY_KEY_ID || 'rzp_test_1234567890',\n  apiUrl: '/api', // Backend API endpoint\n};\n\n/**\n * Load Razorpay script dynamically\n */\nexport const loadRazorpayScript = (): Promise<boolean> => {\n  return new Promise((resolve) => {\n    if (window.Razorpay) {\n      resolve(true);\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n    script.onload = () => resolve(true);\n    script.onerror = () => resolve(false);\n    document.body.appendChild(script);\n  });\n};\n\n/**\n * Generate unique order ID\n */\nconst generateOrderId = (): string => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substr(2, 9);\n  return `MRG_${timestamp}_${random}`;\n};\n\n/**\n * Create Razorpay order via backend API\n */\nexport const createRazorpayOrder = async (\n  amount: number,\n  customerInfo: any,\n  items: CartItem[]\n): Promise<any> => {\n  try {\n    const response = await fetch(`${RAZORPAY_CONFIG.apiUrl}/create-order`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        amount,\n        currency: 'INR',\n        receipt: generateOrderId(),\n        customerInfo,\n        items,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    \n    if (!result.success) {\n      throw new Error(result.message || 'Failed to create order');\n    }\n\n    return result.order;\n  } catch (error) {\n    console.error('Error creating Razorpay order:', error);\n    throw new Error('Failed to create payment order');\n  }\n};\n\n/**\n * Verify payment via backend API\n */\nexport const verifyPayment = async (paymentData: RazorpayPayment): Promise<PaymentResponse> => {\n  try {\n    const response = await fetch(`${RAZORPAY_CONFIG.apiUrl}/verify-payment`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(paymentData),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('Payment verification error:', error);\n    return {\n      success: false,\n      message: 'Payment verification failed',\n      error: error instanceof Error ? error.message : 'Unknown error',\n    };\n  }\n};\n\n/**\n * Initialize Razorpay payment for UPI/Digital payments\n */\nexport const initiateRazorpayPayment = async (\n  amount: number,\n  customerInfo: any,\n  items: CartItem[],\n  paymentMethod: 'upi' | 'card' | 'netbanking' | 'wallet' | 'phonepe' | 'googlepay' = 'upi'\n): Promise<PaymentResponse> => {\n  try {\n    // Load Razorpay script\n    const isLoaded = await loadRazorpayScript();\n    if (!isLoaded) {\n      throw new Error('Failed to load Razorpay SDK');\n    }\n\n    // Create order via backend\n    const order = await createRazorpayOrder(amount, customerInfo, items);\n\n    // Configure payment method preferences\n    const methodConfig: any = {};\n    \n    switch (paymentMethod) {\n      case 'phonepe':\n        methodConfig.upi = true;\n        methodConfig.wallet = ['phonepe'];\n        break;\n      case 'googlepay':\n        methodConfig.upi = true;\n        methodConfig.wallet = ['googlepay'];\n        break;\n      case 'upi':\n        methodConfig.upi = true;\n        break;\n      default:\n        methodConfig[paymentMethod] = true;\n    }\n\n    return new Promise((resolve) => {\n      const options: PaymentOptions = {\n        key: RAZORPAY_CONFIG.keyId,\n        amount: order.amount,\n        currency: order.currency,\n        name: 'मृगया - Mrugaya Jewelry',\n        description: `Payment for ${items.length} jewelry item(s)`,\n        order_id: order.id,\n        handler: async (response: RazorpayPayment) => {\n          try {\n            // Verify payment via backend\n            const verificationResult = await verifyPayment(response);\n            \n            if (verificationResult.success) {\n              // Save order to localStorage for order tracking\n              const orderData: OrderData = {\n                orderId: order.receipt,\n                amount,\n                currency: order.currency,\n                customerInfo,\n                items: items.map(item => ({\n                  id: item.id,\n                  name: item.name,\n                  price: item.price,\n                  quantity: item.quantity,\n                  image: item.image,\n                })),\n                paymentMethod: 'razorpay',\n                status: 'completed',\n                createdAt: new Date().toISOString(),\n              };\n\n              localStorage.setItem(`order_${order.receipt}`, JSON.stringify(orderData));\n\n              resolve({\n                success: true,\n                orderId: order.receipt,\n                paymentId: response.razorpay_payment_id,\n                signature: response.razorpay_signature,\n                message: 'Payment completed successfully',\n              });\n            } else {\n              resolve({\n                success: false,\n                message: verificationResult.message || 'Payment verification failed',\n                error: verificationResult.error,\n              });\n            }\n          } catch (error) {\n            resolve({\n              success: false,\n              message: 'Payment processing failed',\n              error: error instanceof Error ? error.message : 'Unknown error',\n            });\n          }\n        },\n        prefill: {\n          name: customerInfo.name,\n          email: customerInfo.email,\n          contact: customerInfo.phone,\n        },\n        notes: {\n          address: customerInfo.address,\n        },\n        theme: {\n          color: '#DC2626', // Red color matching the website theme\n        },\n        method: methodConfig,\n        modal: {\n          ondismiss: () => {\n            resolve({\n              success: false,\n              message: 'Payment cancelled by user',\n            });\n          },\n        },\n      };\n\n      const razorpay = new window.Razorpay(options);\n      razorpay.open();\n    });\n  } catch (error) {\n    console.error('Razorpay payment error:', error);\n    return {\n      success: false,\n      message: 'Payment initialization failed',\n      error: error instanceof Error ? error.message : 'Unknown error',\n    };\n  }\n};\n\n/**\n * Generate UPI QR Code for payments\n */\nexport const generateUPIQRCode = async (\n  amount: number,\n  customerInfo: any,\n  items: CartItem[]\n): Promise<{ qrCodeUrl: string; orderId: string }> => {\n  try {\n    // Create order first\n    const order = await createRazorpayOrder(amount, customerInfo, items);\n    const orderId = order.receipt;\n    \n    // Create UPI payment URL\n    const upiUrl = `upi://pay?pa=mrugaya@razorpay&pn=Mrugaya Jewelry&am=${amount}&cu=INR&tn=Payment for Order ${orderId}`;\n    \n    // Generate QR code URL (using a QR code service)\n    const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(upiUrl)}`;\n    \n    // Save pending order\n    const orderData: OrderData = {\n      orderId,\n      amount,\n      currency: 'INR',\n      customerInfo,\n      items: items.map(item => ({\n        id: item.id,\n        name: item.name,\n        price: item.price,\n        quantity: item.quantity,\n        image: item.image,\n      })),\n      paymentMethod: 'razorpay',\n      status: 'pending',\n      createdAt: new Date().toISOString(),\n    };\n\n    localStorage.setItem(`order_${orderId}`, JSON.stringify(orderData));\n\n    return { qrCodeUrl, orderId };\n  } catch (error) {\n    console.error('QR Code generation error:', error);\n    throw new Error('Failed to generate UPI QR code');\n  }\n};\n\n/**\n * Process Cash on Delivery order\n */\nexport const processCODOrder = async (\n  amount: number,\n  customerInfo: any,\n  items: CartItem[]\n): Promise<CODOrder> => {\n  try {\n    const response = await fetch(`${RAZORPAY_CONFIG.apiUrl}/cod-order`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        amount,\n        customerInfo,\n        items,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    \n    if (!result.success) {\n      throw new Error(result.message || 'Failed to process COD order');\n    }\n\n    // Save COD order locally\n    const orderData: OrderData = {\n      orderId: result.order.orderId,\n      amount: result.order.totalAmount,\n      currency: 'INR',\n      customerInfo,\n      items: items.map(item => ({\n        id: item.id,\n        name: item.name,\n        price: item.price,\n        quantity: item.quantity,\n        image: item.image,\n      })),\n      paymentMethod: 'cod',\n      status: 'processing',\n      createdAt: new Date().toISOString(),\n    };\n\n    localStorage.setItem(`order_${result.order.orderId}`, JSON.stringify(orderData));\n\n    return result.order;\n  } catch (error) {\n    console.error('COD order processing error:', error);\n    throw new Error('Failed to process COD order');\n  }\n};\n\n/**\n * Get order details by ID\n */\nexport const getOrderDetails = (orderId: string): OrderData | null => {\n  try {\n    const orderData = localStorage.getItem(`order_${orderId}`);\n    return orderData ? JSON.parse(orderData) : null;\n  } catch (error) {\n    console.error('Error fetching order details:', error);\n    return null;\n  }\n};\n\n/**\n * Format amount for display\n */\nexport const formatAmount = (amount: number): string => {\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    minimumFractionDigits: 0,\n  }).format(amount);\n};\n\n/**\n * Check payment status manually (alternative to webhooks)\n */\nexport const checkPaymentStatus = async (paymentId: string): Promise<any> => {\n  try {\n    const response = await fetch(`${RAZORPAY_CONFIG.apiUrl}/payment-status/${paymentId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Payment status check error:', error);\n    throw error;\n  }\n};","size_bytes":10573},"client/src/types/cart.ts":{"content":"export interface CartItem {\n  id: number;\n  name: string;\n  price: string;\n  originalPrice: string;\n  image: string;\n  category: string;\n  quantity: number;\n  rating: number;\n  reviews: number;\n}\n\nexport interface CartState {\n  items: CartItem[];\n  total: number;\n  itemCount: number;\n  isOpen: boolean;\n}\n\nexport interface PaymentDetails {\n  amount: number;\n  currency: string;\n  orderId: string;\n  customerInfo: {\n    name: string;\n    email: string;\n    phone: string;\n    address: string;\n  };\n}\n\nexport interface PhonePeResponse {\n  success: boolean;\n  code: string;\n  message: string;\n  data?: {\n    merchantId: string;\n    merchantTransactionId: string;\n    transactionId: string;\n    amount: number;\n    state: string;\n    responseCode: string;\n    paymentInstrument: {\n      type: string;\n      utr?: string;\n    };\n  };\n}","size_bytes":831},"client/src/types/favorites.ts":{"content":"export interface FavoriteItem {\n  id: number;\n  name: string;\n  price: string;\n  originalPrice: string;\n  image: string;\n  category: string;\n  rating: number;\n  reviews: number;\n  dateAdded: string;\n}\n\nexport interface FavoritesState {\n  items: FavoriteItem[];\n  count: number;\n  isOpen: boolean;\n}","size_bytes":298},"client/src/types/payment.ts":{"content":"export interface RazorpayOrder {\n  id: string;\n  entity: string;\n  amount: number;\n  amount_paid: number;\n  amount_due: number;\n  currency: string;\n  receipt: string;\n  status: string;\n  attempts: number;\n  created_at: number;\n}\n\nexport interface RazorpayPayment {\n  razorpay_payment_id: string;\n  razorpay_order_id: string;\n  razorpay_signature: string;\n}\n\nexport interface PaymentOptions {\n  key: string;\n  amount: number;\n  currency: string;\n  name: string;\n  description: string;\n  order_id: string;\n  handler: (response: RazorpayPayment) => void;\n  prefill: {\n    name: string;\n    email: string;\n    contact: string;\n  };\n  notes: {\n    address: string;\n  };\n  theme: {\n    color: string;\n  };\n  method?: {\n    upi?: boolean;\n    card?: boolean;\n    netbanking?: boolean;\n    wallet?: boolean;\n  };\n  modal: {\n    ondismiss: () => void;\n  };\n}\n\nexport interface OrderData {\n  orderId: string;\n  amount: number;\n  currency: string;\n  customerInfo: {\n    name: string;\n    email: string;\n    phone: string;\n    address: string;\n  };\n  items: Array<{\n    id: number;\n    name: string;\n    price: string;\n    quantity: number;\n    image: string;\n  }>;\n  paymentMethod: 'razorpay' | 'cod';\n  status: 'pending' | 'processing' | 'completed' | 'failed' | 'cancelled';\n  createdAt: string;\n}\n\nexport interface PaymentResponse {\n  success: boolean;\n  orderId?: string;\n  paymentId?: string;\n  signature?: string;\n  message: string;\n  error?: string;\n}\n\nexport interface CODOrder {\n  orderId: string;\n  amount: number;\n  handlingFee: number;\n  totalAmount: number;\n  customerInfo: {\n    name: string;\n    email: string;\n    phone: string;\n    address: string;\n  };\n  items: Array<{\n    id: number;\n    name: string;\n    price: string;\n    quantity: number;\n  }>;\n  status: 'confirmed' | 'processing' | 'shipped' | 'delivered' | 'cancelled';\n  estimatedDelivery: string;\n}\n\ndeclare global {\n  interface Window {\n    Razorpay: any;\n  }\n}","size_bytes":1930},"client/src/types/product.ts":{"content":"export interface Product {\n  id: number;\n  name: string;\n  price: string;\n  originalPrice: string;\n  image: string;\n  modelImage?: string; // Image showing jewelry on model\n  category: string;\n  subcategory?: string;\n  rating: number;\n  reviews: number;\n  description: string;\n  specifications: {\n    material: string;\n    weight: string;\n    dimensions: string;\n    purity?: string;\n    gemstones?: string[];\n  };\n  images: string[]; // Multiple product images\n  inStock: boolean;\n  featured: boolean;\n  tags: string[];\n}\n\nexport interface Category {\n  id: string;\n  name: string;\n  description: string;\n  image: string;\n  subcategories: Subcategory[];\n}\n\nexport interface Subcategory {\n  id: string;\n  name: string;\n  description: string;\n  image: string;\n}\n\nexport interface ViewMode {\n  product: 'product';\n  model: 'model';\n}","size_bytes":830}},"version":1}